!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/js/react-uis/dist/",a(a.s=196)}({0:function(e,t){e.exports=React},1:function(e,t){e.exports=ReactCUI},10:function(e,t){e.exports=anime},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(5),r=a.n(n),l=a(27);const s=async()=>{return(await r.a.get(`${globals.rest.generate}get-nad-ips/`,{params:{_:(new Date).getTime()},headers:l.a})).data}},11:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));const n=e=>{var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},r=({error:e})=>e.hasOwnProperty("response")&&e.response.hasOwnProperty("data")&&e.response.data.hasOwnProperty("error")?React.createElement("div",null,"Details:",React.createElement("pre",null,e.response.data.error)):null,l=({delay:e,onDelay:t,children:a})=>(React.useEffect(()=>{const a=setTimeout(()=>t(),e);return()=>clearTimeout(a)},[]),a)},12:function(e,t,a){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.d(t,"a",(function(){return n}))},13:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}a.d(t,"a",(function(){return n}))},14:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=r.a.createContext(null)},15:function(e,t,a){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}a.d(t,"a",(function(){return n}))},16:function(e,t){e.exports=ReactModal},17:function(e,t,a){"use strict";var n=a(0),r=a(7);var l=function(e){const t=Object(n.useRef)(null);return Object(n.useEffect)((function(){const a=document.querySelector(`#${e}`),n=a||function(e){const t=document.createElement("div");return t.setAttribute("id",e),t}(e);var r;return a||(r=n,document.body.insertBefore(r,document.body.lastElementChild.nextElementSibling)),n.appendChild(t.current),function(){t.current.remove(),-1===n.childNodes.length&&n.remove()}}),[]),t.current||(t.current=document.createElement("div")),t.current};t.a=({id:e,children:t})=>{const a=l(e);return Object(r.createPortal)(t,a)}},18:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return h}));var n=a(0),r=a.n(n),l=a(19),s=a(10),i=a.n(s),o=a(9),c=a(6);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const d=e=>i()({targets:e,opacity:Object(c.b)(!1),complete:()=>{Object(c.d)(e)},easing:c.c}),p=(e,t)=>e.addEventListener(c.a,t);t.c=e=>{let{endOpacity:t}=e,a=m(e,["endOpacity"]);return r.a.createElement(o.d,u({timeout:300,onEnter:e=>((e,t)=>i()({targets:e,opacity:Object(c.b)(!0,t),complete:()=>{Object(c.d)(e)},easing:c.c}))(e,t||1),onExit:d,addEndListener:p},a))};const f=e=>r.a.createElement(l.a,u({timeout:300,classNames:{appear:"show",appearActive:"show animated fastest fadeIn",appearDone:"show",enter:"show",enterActive:"show animated fastest fadeIn",enterDone:"show",exit:"show",exitActive:"show animated fastest fadeOut",exitDone:""},appear:!0,enter:!0,exit:!0},e)),h=e=>r.a.createElement(l.a,u({mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:{appear:"animated fadeIn fastest",appearActive:"animated fadeIn fastest",appearDone:"animated",enter:"animated fadeIn fastest",enterActive:"animated fadeIn fastest",enterDone:"animated",exit:"fanimated fadeOut fastest",exitActive:"animated fadeOut fastest",exitDone:"hide"},timeout:300},e))},19:function(e,t,a){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var r=a(13),l=a(12);a(3);function s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var i=a(0),o=a.n(i),c=a(9),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=s(a.className,n):a.setAttribute("class",s(a.className&&a.className.baseVal||"",n)));var a,n}))},m=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){t.removeClasses(e,"exit"),t.addClass(e,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=a?"appear":"enter";t.addClass(e,n,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=a?"appear":"enter";t.removeClasses(e,n),t.addClass(e,n,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,r=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:r,activeClassName:n?r+"-active":a[e+"Active"],doneClassName:n?r+"-done":a[e+"Done"]}},t}Object(l.a)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"];"appear"===t&&"done"===a&&(n+=" "+this.getClassNames("enter").doneClassName),"active"===a&&e&&e.scrollTop,this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n)},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,r=a.active,l=a.done;this.appliedClasses[t]={},n&&u(e,n),r&&u(e,r),l&&u(e,l)},a.render=function(){var e=this.props,t=(e.classNames,Object(r.a)(e,["classNames"]));return o.a.createElement(c.d,n({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.a.Component);m.defaultProps={classNames:""},m.propTypes={};t.a=m},196:function(t,a,n){"use strict";n.r(a);var r=n(0),l=n.n(r),s=n(7),i=n.n(s),o=n(16),c=n.n(o),u=n(2),m=n(8),d=n(1),p=n(17),f=n(5),h=n.n(f);const b=l.a.createContext([]),E=l.a.createContext({}),v=e=>{const t={};return Object.keys(e).forEach(a=>{if("object"==typeof e[a]){const n=v(e[a]);Object.keys(n).forEach(e=>{t[`${a}.${e}`]=n[e]})}else t[a]=e[a]}),t};var g=Object(u.connect)(({tabs:e})=>{const t=Object(m.useHistory)(),{isSubmitting:a,isValidating:n,errors:r,setSubmitting:s}=Object(u.useFormikContext)();return l.a.useEffect(()=>{if(Object.keys(r).length>0&&a&&!n){const a=Object.keys(v(r));e.every(e=>e.mapping.every(n=>a.every(a=>!n.test(a)||(t.push(e.link),s(!1),!1))))}},[a,n,r]),null}),y=n(3),O=n.n(y);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const N=e=>{let{title:t,subTitle:a,marginBottom:n,className:r}=e,s=j(e,["title","subTitle","marginBottom","className"]);return a?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",x({className:`display-3 no-margin text-capitalize flex-fluid ${r||""}`},s),t),l.a.createElement("h5",{className:"base-margin-bottom subheading"},a)):l.a.createElement("h2",x({className:`display-3 no-margin ${n?"half-margin-bottom":""} text-capitalize flex-fluid ${r||""}`},s),t)};N.propTypes={title:O.a.string.isRequired,subTitle:O.a.string,marginBottom:O.a.bool,className:O.a.string},N.defaultProps={marginBottom:!0};var C=N,w=n(11);var k=()=>{const e=l.a.useContext(b),{values:t,setFieldValue:a}=Object(u.useFormikContext)();l.a.useEffect(()=>{a("nad.ip",e.nad.ip,!1),a("nad.family",4,!1)},[]);const n=(e,t)=>{a("nad.ip",e),a("nad.family",t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flex form-group--margin"},l.a.createElement(u.Field,{component:d.Input,name:"nad.ip",className:"half-margin-right flex-fill",readOnly:"readonly",label:"NAD IP address"}),l.a.createElement(d.ButtonGroup,{square:!0,className:"base-margin-top"},l.a.createElement(d.Button,{type:"button",color:"link",title:"Copy to clipboard",icon:!0,onClick:()=>{Object(w.c)(Object(u.getIn)(t,"nad.ip")),Object(d.toast)("info","Copied","NAD IP copied to clipboard")}},l.a.createElement(d.Icon,{icon:"clipboard"})),l.a.createElement(d.Dropdown,{type:"button",alwaysClose:!0,className:"btn--link btn--icon",openTo:"left"},e.nad.ips.IPv4&&e.nad.ips.IPv4.length?e.nad.ips.IPv4.map(e=>l.a.createElement("li",{key:`ipv4-addr-${e.idx}`},l.a.createElement("a",{onClick:()=>n(e.addr,4)},e.addr))):null,e.nad.ips.IPv4&&e.nad.ips.IPv4.length&&e.nad.ips.IPv6&&e.nad.ips.IPv6.length?l.a.createElement("div",{className:"dropdown__divider"}):null,e.nad.ips.IPv6&&e.nad.ips.IPv6.length?e.nad.ips.IPv6.map(e=>l.a.createElement("li",{key:`ipv6-addr-${e.idx}`},l.a.createElement("a",{onClick:()=>n(e.addr,6)},e.addr))):null))))};var F=()=>{const e=l.a.useContext(b),{setFieldValue:t}=Object(u.useFormikContext)();return l.a.useEffect(()=>{t("nad.timeout",e.nad.timeout||5,!1),t("nad.retries",e.nad.retries||0,!1)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row form-group--margin"},l.a.createElement("div",{className:"col"},l.a.createElement(u.Field,{component:d.Input,type:"number",name:"nad.timeout",label:l.a.createElement(l.a.Fragment,null,"Timeout ",l.a.createElement("span",{className:"text-xsmall"},"(seconds)")),min:"1",max:"600"})),l.a.createElement("div",{className:"col"},l.a.createElement(u.Field,{component:d.Input,type:"number",name:"nad.retries",label:"Retries",min:"0",max:"100"}))))};var I=Object(u.connect)(()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{title:"Network access device"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement(k,null),l.a.createElement(F,null)))),S=n(73);const _=({value:{attributes:{address:e,attributes:{friendly_name:t,tac:a}}}})=>{const{setFieldValue:n}=Object(u.useFormikContext)();return l.a.createElement("li",null,l.a.createElement("a",{onClick:()=>{n("server.address",e),n("server.ports",a.ports||[49]),n("server.secret",a.shared||"")}},l.a.createElement("span",null,`${t} (`,l.a.createElement("span",{className:"text-muted"},`${e}/${a.ports.join(",")}`),")")))};_.propTypes={value:O.a.shape({attributes:O.a.shape({address:O.a.string,attributes:O.a.shape({friendly_name:O.a.string,tac:O.a.shape({ports:O.a.arrayOf(O.a.any),shared:O.a.string})})})}).isRequired};var P=()=>{const{values:e}=Object(u.useFormikContext)();return l.a.createElement(S.a,{title:"Load",openTo:"right",load_values:{nolocation:!0,link:`/servers/dropdown/tacacs/v${Object(u.getIn)(e,"nad.family",4)}/?${(new Date).getTime()}`},onClick:()=>{},type:"link",divClassName:"base-margin-left half-margin-top flex-center-vertical",className:"btn--dropdown",renderElement:_})};var A=()=>{const e=l.a.useContext(b),{setFieldValue:t}=Object(u.useFormikContext)();return l.a.useEffect(()=>{t("server.address",Object(u.getIn)(e,"server.address",""),!1),t("server.ports",Object(u.getIn)(e,"server.ports",[49]),!1),t("server.secret",Object(u.getIn)(e,"server.secret",""),!1)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flex base-margin-top half-margin-bottom"},l.a.createElement("h2",{className:"half-margin-right flex-center-vertical no-margin-bottom display-3 text-capitalize"},"Server"),l.a.createElement(P,null)),l.a.createElement("div",{className:"panel-body"},l.a.createElement(u.Field,{component:d.Input,type:"text",name:"server.address",label:"Server address",validate:e=>{let t;return e||(t="Server address must be specified"),t}}),l.a.createElement(u.Field,{component:d.InputChips,name:"server.ports",chipsColor:"info",allowRegex:"^\\d+$",delimiters:[13,32,188],valueValidator:e=>(e=parseInt(e,10))>0&&e<=65535&&e,maxChips:4,label:l.a.createElement(l.a.Fragment,null,"Ports ",l.a.createElement("span",{className:"text-xsmall"},"(up to 4)")),baloon:"Random port for new connection.",validate:e=>{let t;return e&&!e.length&&(t="At least one port must be specified"),t}}),l.a.createElement(u.Field,{component:d.Input,type:"text",name:"server.secret",label:"Shared secret",validate:e=>{let t;return e||(t="Shared secret must be specified"),t}})))},$=n(18);const D=()=>{const e=l.a.useContext(b),{values:t,setFieldValue:a}=Object(u.useFormikContext)(),[n,r]=l.a.useState(Object(u.getIn)(t,"auth.credentials.limit_sessions",!1));return l.a.useEffect(()=>{const n=Object(u.getIn)(t,"auth.credentials.limit_sessions",!1);a("generation.amount",n?"auto":Object(u.getIn)(e,"generation.amount",1),!1),r(n)},[Object(u.getIn)(t,"auth.credentials.limit_sessions",!1)]),n?l.a.createElement(u.Field,{component:d.Input,type:"text",name:"generation.amount",label:l.a.createElement(l.a.Fragment,null,"Amount of sessions ",l.a.createElement("span",{className:"text-xsmall"},`(up to ${Object(u.getIn)(e,"generation.max_amount",1e5)})`)),readOnly:"readonly"}):l.a.createElement(u.Field,{component:d.Input,type:"number",name:"generation.amount",label:l.a.createElement(l.a.Fragment,null,"Amount of sessions ",l.a.createElement("span",{className:"text-xsmall"},`(up to ${Object(u.getIn)(e,"generation.max_amount",1e5)})`)),min:1,max:Object(u.getIn)(e,"generation.max_amount",1e5),validate:e=>{let t;return e||(t="Amount of sessions is required"),t}})},V=()=>{const e=l.a.useContext(b),{values:t,setFieldValue:a}=Object(u.useFormikContext)();return l.a.useEffect(()=>{a("generation.save",Object(u.getIn)(e,"generation.save",!0),!1),a("generation.bulk",Object(u.getIn)(e,"generation.bulk",""),!1)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(u.Field,{component:d.Switch,name:"generation.save",right:"Save sessions"}),l.a.createElement($.c,{in:Boolean(Object(u.getIn)(t,"generation.save",!0)),mountOnEnter:!0,unmountOnExit:!0,appear:!0},l.a.createElement(u.Field,{component:d.Input,type:"text",name:"generation.bulk",label:"Bulk name"})))};var T=Object(u.connect)(()=>{const e=l.a.useContext(b),{setFieldValue:t}=Object(u.useFormikContext)();return l.a.useEffect(()=>{t("generation.job_name",Object(u.getIn)(e,"generation.job_name",""),!1),t("generation.latency",Object(u.getIn)(e,"generation.latency",0),!1),t("generation.async",Object(u.getIn)(e,"generation.async",!1),!1)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{title:"Sessions Generation"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement(u.Field,{component:d.Input,type:"text",name:"generation.job_name",label:"Job name",validate:e=>{let t;return e&&!/^[a-z\d_]+$/i.test(e)&&(t="Only the following symbols are allowed for job name: a-z, 0-9, _"),t}}),l.a.createElement(D,null),l.a.createElement(u.Field,{component:d.Input,type:"text",name:"generation.latency",label:l.a.createElement(l.a.Fragment,null,"Latency between sessions ",l.a.createElement("span",{className:"text-xsmall"},"(milliseconds)")),baloon:"Can be integer or range in format 'N1..N2'. If range is specified, random number will be used from the range.",validate:e=>{if(!/^\d+$/.test(e)&&!/^\d+[.]{2}\d+$/.test(e))return"Incorrect value"}}),l.a.createElement(V,null),l.a.createElement(u.Field,{component:d.Switch,name:"generation.async",right:"Multi-thread generation"})))});var R=()=>(l.a.useEffect(()=>{},[]),l.a.createElement("div",{className:"section section--compressed"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(I,null),l.a.createElement(A,null)),l.a.createElement("div",{className:"col"},l.a.createElement(T,null))))),L=n(24);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const M=e=>{let{onLoad:t}=e,a=B(e,["onLoad"]);const n=l.a.createRef();let r;const s=e=>{const a=r.result;t(a)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"file",style:{display:"none"},id:"file",ref:n,onChange:e=>(e=>{(r=new FileReader).onloadend=s,r.readAsText(e)})(e.target.files[0])}),l.a.createElement(d.Button,q({onClick:()=>{n.current.click()}},a)))};M.propTypes={color:O.a.string.isRequired,type:O.a.string,icon:O.a.string,title:O.a.string,children:O.a.node,onLoad:O.a.func.isRequired},M.defaultProps={type:"button",icon:!0,title:"Load from file",children:l.a.createElement(d.Icon,{icon:"upload"})};const z=()=>l.a.createElement("p",{className:"half-margin-top"},l.a.createElement("span",{className:"text-muted"},"How it works: "),l.a.createElement("span",null,"Credentials will be selected from the list below")),U=()=>{const e=l.a.useContext(b),{setFieldValue:t,unregisterField:a,values:n}=Object(u.useFormikContext)(),[r,s]=l.a.useState(0);l.a.useEffect(()=>(t("auth.credentials.list",Object(u.getIn)(e,"auth.credentials.list",""),!1),()=>{t("auth.credentials.list",void 0,!1),a("auth.credentials.list")}),[]);const i=l.a.useMemo(()=>Object(u.getIn)(n,"auth.credentials.list",""),[n]),o=l.a.useMemo(()=>Object(u.getIn)(n,"auth.credentials.limit_sessions",!1),[n]);l.a.useEffect(()=>{s(()=>i?i.split(/\r\n|\r|\n/).filter(e=>e.trim().length).length:0)},[i,o]),l.a.useEffect(()=>{o&&t("generation.amount",r,!1)},[o,r,t]);return l.a.createElement("div",{className:"flex flex-center-vertical"},l.a.createElement(u.Field,{component:d.Textarea,name:"auth.credentials.list",className:"half-margin-right flex-fill",textareaClass:"text-monospace",innerDivClass:"flex-fill",style:{overflowX:"hidden",overflowWrap:"break-word",height:"200px"},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",inline:!0,validate:e=>{if(void 0===e)return;return e.split(/\r\n|\r|\n/).filter(e=>e.trim().length&&/^\s*[^\s:]+:[^\s:]+\s*$/.test(e)).map(e=>e.trim()).length?void 0:"Credentials should be provided"},label:l.a.createElement(l.a.Fragment,null,"Credentials",l.a.createElement("br",null),l.a.createElement("span",{className:"text-xsmall"},"Format user:password",l.a.createElement("br",null),"One record per line",l.a.createElement("br",null),`Count: ${r}`))}),l.a.createElement(d.ButtonGroup,{square:!0,className:"base-margin-top"},l.a.createElement(M,{color:"link",onLoad:e=>((e,a=!1)=>{if(a){const a=e.split(/\r\n|\r|\n/).filter(e=>e.trim().length&&/^\s*[^\s:]+:[^\s:]+\s*$/.test(e)).map(e=>e.trim());t("auth.credentials.list",a.join("\n")),a.length||Object(d.toast)("info","No credentials","Didn't find any credentials in a format [username]:[password]")}else t("auth.credentials.list",e)})(e,!0)}),l.a.createElement(d.Button,{type:"button",color:"link",title:"Clear",icon:!0,onClick:()=>t("auth.credentials.list","",!1)},l.a.createElement(d.Icon,{icon:"trash"}))))};var H=()=>l.a.createElement("div",{className:"tab animated fadeIn fast active-tab"},l.a.createElement(z,null),l.a.createElement(U,null)),G=n(35),W=n(4);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const J=l.a.createContext([]),K=l.a.createContext(""),Z=({label:e,dictionaries:t,open:a,updateVar:n})=>{const[r,s]=l.a.useState(a),i=l.a.useContext(J);return l.a.createElement("div",{className:"drawer"+(r?" drawer--opened":"")},l.a.createElement("h5",{className:"half-margin-bottom drawer__header"},l.a.createElement("a",{onClick:()=>s(e=>!e)},e)),l.a.createElement("div",{className:"drawer__body animated faster fadeIn"},l.a.createElement("div",{className:"responsive-table dbl-margin-bottom"},l.a.createElement("table",{className:"table"},l.a.createElement("tbody",null,t.map(e=>l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,l.a.createElement("label",{className:"checkbox"},l.a.createElement("input",{className:"dictionary",type:"checkbox",onChange:t=>n(e,t.target.checked),onBlur:t=>n(e,t.target.checked),checked:i.findIndex(t=>t.id===e.id)>=0&&"checked"}),l.a.createElement("span",{className:"checkbox__input"}),l.a.createElement("span",{className:"checkbox__label hidden-xs"},e.name))))))))))},Q=e=>{let{data:t}=e,a=X(e,["data"]);const n=l.a.useContext(K);return t.result&&Object.keys(t.result)?l.a.createElement(l.a.Fragment,null,Object.keys(t.result).filter(e=>"labels"!==e).map((e,n)=>l.a.createElement(Z,Y({key:e,dictionaries:t.result[e],label:t.result.labels[e],open:0===n},a))),l.a.createElement("div",{className:"flex flex-center-vertical dbl-margin-top"},l.a.createElement("div",{className:"base-margin-right"},"How to select values"),l.a.createElement(d.Radios,{inline:!0,values:[{value:"random",label:"Select randomly"},{value:"one-by-one",label:"Select in order"}],name:`${n}.how_to_follow`})),l.a.createElement(u.Field,{component:d.Switch,className:"half-margin-top",name:`${n}.disallow_repeats`,right:"Disallow reuse of values"})):l.a.createElement(d.Alert,{type:"info",title:"No dictionaries"},"No dictionaries yet."," ",l.a.createElement("a",{href:globals.rest.dictionaries.new,target:"_blank"},"Create one.",l.a.createElement("span",{className:"icon-jump-out qtr-margin-left"})))},ee=Object(u.connect)(({types:e,loadDictionaries:t,handleClose:a,fieldName:n,isOpen:r,formik:{values:s,setFieldValue:i}})=>{const o=Object(W.d)({promiseFn:t,types:e});l.a.useEffect(()=>{r?o.reload():"pending"===o&&o.cancel()},[r]);const[c,m]=l.a.useState(Object(u.getIn)(s,n,[])),p=(e,t)=>{const a=c.findIndex(t=>t.id===e.id);!t&&a>=0&&m([...c.slice(0,a),...c.slice(a+1)]),t&&a<0&&m([...c,e])},f=()=>{i(n,[...c]),a()};return l.a.createElement(d.Modal,{title:"Select Dictionaries",size:"large",closeIcon:!0,closeHandle:a,autoClose:!0,isOpen:r},l.a.createElement(d.ModalBody,{className:"text-left"},l.a.createElement(W.b,{state:o},l.a.createElement(d.Spinner,{text:"Fetching data..."})),l.a.createElement(W.c,{state:o},e=>l.a.createElement(d.Alert,{type:"error",title:"Operation failed"},"Couldn't get TACACS+ options: ",e.message)),l.a.createElement(W.a,{state:o},e=>l.a.createElement(J.Provider,{value:c},l.a.createElement(Q,{data:e,updateVar:p})))),l.a.createElement(d.ModalFooter,null,l.a.createElement(d.Button,{color:"light",onClick:a,type:"button"},"Close"),l.a.createElement(W.a,{state:o},()=>l.a.createElement(d.Button,{color:"success",onClick:f,type:"button"},"Save"))))}),te=({varPrefix:e,label:t,types:a,form:n,defaults:r,color:s,field:i,loadDictionaries:o})=>{const[c,m]=l.a.useState(!1);l.a.useEffect(()=>(n.setFieldValue(i.name,Object(u.getIn)(r,i.name,[]),!1),n.setFieldValue(`${e}.disallow_repeats`,Object(u.getIn)(r,`${e}.disallow_repeats`,!1),!1),n.setFieldValue(`${e}.how_to_follow`,Object(u.getIn)(r,`${e}.how_to_follow`,"random"),!1),()=>{n.unregisterField(i.name),n.setFieldValue(i.name,void 0,!1),n.unregisterField(`${e}.disallow_repeats`),n.setFieldValue(`${e}.disallow_repeats`,void 0,!1),n.unregisterField(`${e}.how_to_follow`),n.setFieldValue(`${e}.how_to_follow`,void 0,!1)}),[]);const p=Object(u.getIn)(n.values,i.name,[]);return l.a.createElement("div",{className:"form-group"+(Object(u.getIn)(n.touched,i.name)&&Object(u.getIn)(n.errors,i.name)?" form-group--error":"")},l.a.createElement("div",{className:"form-group__text"},l.a.createElement("label",null,t),l.a.createElement("div",{className:"panel panel--bordered like-input dictionary"},l.a.createElement("div",{className:"dictionaries-selected flex-fill"},p.length?l.a.createElement(l.a.Fragment,null,p.length," selected:",l.a.createElement("span",{className:"qtr-margin-left names"},p.map(e=>l.a.createElement(d.Label,{size:"tiny",color:s,key:e.id,className:"qtr-margin-bottom"},e.name)))):l.a.createElement("div",{className:"qtr-margin-bottom"},"None selected")),l.a.createElement("span",{className:"actions"},l.a.createElement("a",{className:"dictionary-edit-link no-decor",onClick:()=>m(!0)},l.a.createElement("span",{className:"icon-edit qtr-margin-right"}),"Edit")))),Object(u.getIn)(n.touched,i.name)&&Object(u.getIn)(n.errors,i.name)?l.a.createElement(d.InputHelpBlock,{text:Object(u.getIn)(n.errors,i.name)}):null,l.a.createElement(K.Provider,{value:e},l.a.createElement(ee,{types:a,handleClose:()=>{m(!1),n.setFieldTouched(i.name)},loadDictionaries:o,fieldName:i.name,isOpen:c})))};te.propTypes={varPrefix:O.a.string.isRequired,loadDictionaries:O.a.func.isRequired,label:O.a.string,types:O.a.array,color:O.a.string,defaults:O.a.any},te.defaultProps={color:"light",defaults:{}};var ae=te;var ne=()=>{const e=l.a.useContext(b);return l.a.createElement("div",{className:"tab animated fadeIn fast active-tab"},l.a.createElement(u.Field,{component:ae,name:"auth.credentials.dictionary",varPrefix:"auth.credentials",label:"Dictionaries",types:["credentials"],defaults:e,loadDictionaries:G.c,validate:e=>{let t;return Array.isArray(e)&&!e.length&&(t="Select at least one dictionary"),t}}))};var re=()=>l.a.createElement(L.a,{variants:[{variant:"list",display:"From list",component:l.a.createElement(H,null)},{variant:"dictionary",display:"From dictionary",component:l.a.createElement(ne,null)}],varPrefix:"auth.credentials",title:"Credentials:"});var le=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>{e.setFieldValue("auth.credentials.limit_sessions",Object(u.getIn)(t,"auth.credentials.limit_sessions",!1),!1)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{title:"Credentials"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement(u.Field,{component:d.Switch,name:"auth.credentials.limit_sessions",right:"Amount of sessions equals to amount of credentials"}),l.a.createElement(re,null)))});function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const oe=Object(r.createContext)(),ce=e=>e.split(";").filter(e=>e.split(":")[0]&&e.split(":")[1]).map(e=>[e.split(":")[0].trim().replace(/-./g,e=>e.substr(1).toUpperCase()),e.split(":").slice(1).join(":").trim()]).reduce((e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){ie(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e})({},e,{[t[0]]:t[1]}),{}),ue=e=>"string"!=typeof e?e:ce(e),me=(e,t)=>{if(t)return(t="string"==typeof t&&"1"!==t?new RegExp(t,"i"):/[^\s]+/).test(e)?void 0:"Incorrect value"},de=(e,t)=>{if(e.selectionStart||"0"==e.selectionStart){var a=e.selectionStart,n=e.selectionEnd;return e.value.substring(0,a)+t+e.value.substring(n,e.value.length)}return e.value+t};var pe=({f:e})=>"head"===e.name?l.a.createElement("p",{className:"half-margin-top"},l.a.createElement("span",{className:"text-muted"},"How it works: "),l.a.createElement("span",null,e.value)):l.a.createElement("p",null,e.value);var fe=({f:e})=>l.a.createElement("div",{className:e.class||"",style:ue(e.style||{})},e.value);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ee=e=>{let{columns:t,postfix:a}=e,n=be(e,["columns","postfix"]);return l.a.createElement("div",{className:"row"},t.map((e,t)=>l.a.createElement("div",{className:"col",ket:`${a}-column-${t}`},l.a.createElement(Ie,he({data:e,postfix:a},n)))))};function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ge=({buttons:e,setValue:t})=>{const{rebuildDependands:a}=l.a.useContext(oe),n=async(e,{value:n,insert:r,link:l,api:s,dependants:i,select_dependant:o,show_if_checked:c})=>{if(n)r?t(n,!0):t(n);else if(l||s){d.toast.info("Loading","Loading data from server");try{const e=await Object(G.e)({api:s,link:l});t(e),d.toast.success("Loaded","Data loaded")}catch(e){return void d.toast.error("Operation failed",e.message,!1)}}i&&a({dependants:i,show_if_checked:c,select_dependant:o})};return e.reverse().map((e,t)=>{switch(e.type){case"dropdown":if(Array.isArray(e.values))return l.a.createElement(S.b,ve({},e,{onClick:"function"==typeof e.action?e.action:n,type:"button",key:`btn-${t}-${e.name}`}));if(e.load_values)return l.a.createElement(S.a,ve({},e,{onClick:"function"==typeof e.action?e.action:n,type:"button",key:`btn-${t}-${e.name}`}));case"component":return e.component;default:return null}})};var ye=({f:e,postfix:t})=>{const{form:a,field:n}=l.a.useContext(oe),r=e.name?n.name+t+e.name:r.name;l.a.useEffect(()=>(Object(u.getIn)(a.values,r)||void 0===e.value||a.setFieldValue(r,e.value),()=>{a.unregisterField(r),a.setFieldValue(r,void 0,!1)}),[]);const s=l.a.useRef(),i=(e,t=!1)=>a.setFieldValue(r,t&&s.current?de(s.current,e):e),o=l.a.createElement(u.Field,{component:d.Input,name:r,validate:t=>me(t,e.validate),type:e.type,className:Array.isArray(e.buttons)&&e.buttons.length?" half-margin-right flex-fill":"",id:`input-${r}`,min:void 0!==e.min?e.min:null,max:void 0!==e.max?e.max:null,placeholder:void 0!==e.placeholder?e.placeholder:null,inputRef:s,label:e.label});return Array.isArray(e.buttons)&&e.buttons.length?l.a.createElement("div",{className:"flex"},o,l.a.createElement(d.ButtonGroup,{square:!0,className:"base-margin-top"},l.a.createElement(ge,{buttons:e.buttons,setValue:i}))):o};var Oe=({f:e,postfix:t})=>{const{form:a,field:n,rebuildDependands:r}=l.a.useContext(oe),s=e.name?n.name+t+e.name:s.name;return l.a.useEffect(()=>(Object(u.getIn)(a.values,s)||void 0===e.value||a.setFieldValue(s,Boolean(e.value)),()=>{a.unregisterField(s),a.setFieldValue(s,void 0,!1)}),[]),l.a.useEffect(()=>{Array.isArray(e.dependants)&&e.dependants.length&&r({dependants:e.dependants,show_if_checked:e.show_if_checked,select_dependant:e.select_dependant})},[Object(u.getIn)(a.values,s,!1)]),l.a.createElement(u.Field,{component:d.Switch,name:s,right:e.label,className:"half-margin-top"})};var xe=({f:e,postfix:t})=>{const{form:a,field:n}=l.a.useContext(oe),r=e.name?n.name+t+e.name:r.name;l.a.useEffect(()=>(getIn(a.values,r)||void 0===e.value||a.setFieldValue(r,e.value),()=>{a.unregisterField(r),a.setFieldValue(r,void 0,!1)}),[]);const s=l.a.useRef(),i=(e,t=!1)=>a.setFieldValue(r,t&&s.current?de(s.current,e):e),o=l.a.createElement(u.Field,{component:d.Textarea,name:r,validate:t=>me(t,e.validate),className:"half-margin-right flex-fill",id:`input-${r}`,placeholder:void 0!==e.placeholder?e.placeholder:null,inputRef:s});Array.isArray(e.buttons)&&e.buttons.length||(e.buttons=[]),e.buttons.unshift({type:"component",component:l.a.createElement(M,{onLoad:e=>i(e)})}),e.buttons.unshift({type:"component",component:l.a.createElement(d.Button,{icon:"trash",onClick:()=>i("")})}),l.a.createElement("div",{className:"flex flex-center-vertical"},o,l.a.createElement(d.ButtonGroup,{square:!0,className:"base-margin-top half-margin-bottom"},l.a.createElement(ge,{buttons:e.buttons,setValue:i})))};var je=({f:e,postfix:t})=>{const{form:a,field:n,updateOnChange:r}=l.a.useContext(oe),s=e.name?n.name+t+e.name:s.name;return l.a.useEffect(()=>(Object(u.getIn)(a.values,s)||void 0===e.value||a.setFieldValue(s,e.value),()=>{a.unregisterField(s),a.setFieldValue(s,void 0,!1)}),[]),l.a.useEffect(()=>{e.update_on_change&&r({update:e.update_on_change,value:Object(u.getIn)(a.values,s)})},[Object(u.getIn)(a.values,s)]),l.a.createElement("div",{className:"flex flex-center-vertical dbl-margin-top"},l.a.createElement("div",{className:"base-margin-right"},n.label),l.a.createElement(d.Radios,{name:s,values:n.variants}))};var Ne=({f:e,postfix:t})=>{const{field:a,rebuildDependands:n}=l.a.useContext(oe),r=e.name?a.name+t+e.name:a.name;return l.a.createElement(L.a,{variants:e.value.map(a=>({variant:a.name,display:a.short,component:l.a.createElement("div",{className:"tab animated fadeIn fast active-tab",key:a.name},l.a.createElement(Ie,{data:a.fields,postfix:`${t}${e.name?`${e.name}.`:""}`})),selected:a.selected||e.selected===a.name})),inline:e.inline,varPrefix:r,title:e.title||e.label,onChange:t=>n({value:t,fieldName:`${r}.variant`,dependants:e.dependants,select_dependant:e.select_dependant||{},show_if_checked:e.dependants?e.show_if_checked:void 0})})};const Ce=async({from:e,value:t})=>e?await Object(G.d)(e):t;var we=({f:t,postfix:a})=>{const{field:n}=l.a.useContext(oe),r=t.name?n.name+a+t.name:r.name;l.a.useEffect(()=>(getIn(form.values,r)||void 0===t.value||form.setFieldValue(r,t.value),()=>{form.unregisterField(r),form.setFieldValue(r,void 0,!1)}),[]);const s=Object(W.d)({promiseFn:Ce,from:t.load_values,value:t.value});return l.a.createElement(u.Field,{name:r,component:d.Select,title:t.label,inline:Boolean(t.inline),prompt:"Please select",id:r},l.a.createElement(W.b,{state:s},l.a.createElement("option",null,"Loading...")),l.a.createElement(W.c,{state:s},e=>{d.toast.error("Operation failed",e.message,!1),l.a.createElement("option",null,"Loading error")}),l.a.createElement(W.a,{state:s},t=>t.map(t=>l.a.createElement("option",{key:t.value,value:t.value},e.label))))},ke=n(51);const Fe={alert:({f:{severity:e,value:t}})=>l.a.createElement(d.Alert,{type:e},t),checkbox:Oe,checkboxes:({f:e,postfix:t})=>{const{form:a,field:n,updateOnChange:r}=l.a.useContext(oe),s=e.name?n.name+t+e.name:s.name;return l.a.useEffect(()=>(Object(u.getIn)(a.values,s)||void 0===e.value||a.setFieldValue(s,e.value),()=>{a.unregisterField(s),a.setFieldValue(s,void 0,!1)}),[]),l.a.useEffect(()=>{e.update_on_change&&r({fieldName:s,value:Object(u.getIn)(a.values,s,[]),update:n.update_on_change})},[Object(u.getIn)(a.values,s,[])]),l.a.createElement("div",{className:"checkboxes"},e.label?l.a.createElement("div",{class:"qtr-margin-bottom"},e.label):null,l.a.createElement(u.Field,{component:d.Checkboxes,name:s,variants:e.variants.map(e=>({id:e.name,name:e.label}))}))},columns:Ee,dictionary:({f:e})=>{const{field:t}=l.a.useContext(oe),a=t.name;return l.a.createElement(u.Field,{component:ae,name:`${a}.dictionary`,varPrefix:a,label:e.label,types:Array.isArray(e.dictionary_type)?e.dictionary_type:e.dictionary_type.split(","),loadDictionaries:G.c,color:"light",validate:e=>{let t;return Array.isArray(e)&&!e.length&&(t="Select at least one dictionary"),t}})},div:fe,divider:ke.a,drawer:({f:e,postfix:t})=>l.a.createElement(d.Accordion,{toggles:!0},l.a.createElement(d.AccordionElement,{defaultOpen:e.opened,title:e.title},l.a.createElement(Ie,{data:e.fields,postfix:t}))),hidden:ye,number:ye,radio:je,select:we,span:pe,text:ye,textarea:xe,variants:Ne};var Ie=({data:e,postfix:t})=>e.map((e,a)=>{if(Fe[e.type])return l.a.createElement(Fe[e.type],{f:e,postfix:t,key:e.name||a});switch(e.type){case"break":default:return null}});var Se=({form:e,field:t,data:a})=>{return l.a.createElement(oe.Provider,{value:{form:e,field:t,rebuildDependands:e=>{},updateOnChange:()=>{}}},l.a.createElement(Ie,{data:a,postfix:"."}))};function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach((function(t){Ae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $e=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b),a=Object(W.d)({promiseFn:G.b,attribute:"ip"});return l.a.useEffect(()=>{e.setFieldValue("auth.ip",Object(u.getIn)(t,"auth.ip",!1),!1)},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"base-margin-top"},l.a.createElement(C,{title:"IP Address",marginBottom:!1,subTitle:"Address indicating the remote location from which the user has connected to the client."})),l.a.createElement("div",{className:"panel-body"},l.a.createElement(W.b,{state:a},l.a.createElement(d.Spinner,{text:"Fetching data..."})),l.a.createElement(W.c,{state:a},e=>l.a.createElement(d.Alert,{type:"error",title:"Operation failed"},`Couldn't get IP options: ${e.message}`)),l.a.createElement(W.a,{state:a},({parameters:e})=>l.a.createElement(u.Field,{name:"auth.ip",component:Se,data:[Pe({},e[0],{name:void 0})]}))))});var De=()=>l.a.createElement("div",{className:"section section--compressed"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(le,null)),l.a.createElement("div",{className:"col"},l.a.createElement($e,null)))),Ve=n(49),Te=n(15),Re=n(38);function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qe=n(31);function Be(e,t){var a=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){a[e.key]=function(e){return t&&Object(r.isValidElement)(e)?t(e):e}(e)})),a}function Me(e,t,a){return null!=a[t]?a[t]:e.props[t]}function ze(e,t,a){var n=Be(e.children),l=function(e,t){function a(a){return a in t?t[a]:e[a]}e=e||{},t=t||{};var n,r=Object.create(null),l=[];for(var s in e)s in t?l.length&&(r[s]=l,l=[]):l.push(s);var i={};for(var o in t){if(r[o])for(n=0;n<r[o].length;n++){var c=r[o][n];i[r[o][n]]=a(c)}i[o]=a(o)}for(n=0;n<l.length;n++)i[l[n]]=a(l[n]);return i}(t,n);return Object.keys(l).forEach((function(s){var i=l[s];if(Object(r.isValidElement)(i)){var o=s in t,c=s in n,u=t[s],m=Object(r.isValidElement)(u)&&!u.props.in;!c||o&&!m?c||!o||m?c&&o&&Object(r.isValidElement)(u)&&(l[s]=Object(r.cloneElement)(i,{onExited:a.bind(null,i),in:u.props.in,exit:Me(i,"exit",e),enter:Me(i,"enter",e)})):l[s]=Object(r.cloneElement)(i,{in:!1}):l[s]=Object(r.cloneElement)(i,{onExited:a.bind(null,i),in:!0,exit:Me(i,"exit",e),enter:Me(i,"enter",e)})}})),l}var Ue=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},He=function(e){function t(t,a){var n,r=(n=e.call(this,t,a)||this).handleExited.bind(Le(Le(n)));return n.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},n}Object(Re.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var a,n,l=t.children,s=t.handleExited;return{children:t.firstRender?(a=e,n=s,Be(a.children,(function(e){return Object(r.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:Me(e,"appear",a),enter:Me(e,"enter",a),exit:Me(e,"exit",a)})}))):ze(e,l,s),firstRender:!1}},a.handleExited=function(e,t){var a=Be(this.props.children);e.key in a||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var a=Object(Te.a)({},t.children);return delete a[e.key],{children:a}})))},a.render=function(){var e=this.props,t=e.component,a=e.childFactory,n=Object(Ve.a)(e,["component","childFactory"]),r=this.state.contextValue,s=Ue(this.state.children).map(a);return delete n.appear,delete n.enter,delete n.exit,null===t?l.a.createElement(qe.a.Provider,{value:r},s):l.a.createElement(qe.a.Provider,{value:r},l.a.createElement(t,n,s))},t}(l.a.Component);He.propTypes={},He.defaultProps={component:"div",childFactory:function(e){return e}};var Ge=He,We=n(54),Ye=n.n(We),Xe=n(21);function Je(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Ke=n(28),Ze=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=Je(a.className,n):a.setAttribute("class",Je(a.className&&a.className.baseVal||"",n)));var a,n}))},Qe=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){t.removeClasses(e,"exit"),t.addClass(e,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=a?"appear":"enter";t.addClass(e,n,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=a?"appear":"enter";t.removeClasses(e,n),t.addClass(e,n,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,r=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:r,activeClassName:n?r+"-active":a[e+"Active"],doneClassName:n?r+"-done":a[e+"Done"]}},t}Object(Re.a)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"];"appear"===t&&"done"===a&&(n+=" "+this.getClassNames("enter").doneClassName),"active"===a&&e&&e.scrollTop,this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n)},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,r=a.active,l=a.done;this.appliedClasses[t]={},n&&Ze(e,n),r&&Ze(e,r),l&&Ze(e,l)},a.render=function(){var e=this.props,t=(e.classNames,Object(Ve.a)(e,["classNames"]));return l.a.createElement(Ke.d,Object(Te.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);Qe.defaultProps={classNames:""},Qe.propTypes={};var et=Qe;function tt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const nt=e=>l.a.createElement("a",at({className:"no-decor qtr-margin-left"},e),l.a.createElement("span",{className:"icon-trash qtr-margin-right"}),"Delete"),rt=e=>{let{confirm:t,cancel:a}=e,n=tt(e,["confirm","cancel"]);return l.a.createElement("span",n,"Are you sure?",l.a.createElement(d.Button.Danger,{size:"small",className:"qtr-margin-left no-decor",onClick:t},"Yes"),l.a.createElement(d.Button.Light,{size:"small",className:"qtr-margin-left no-decor",onClick:a},"No"))},lt=e=>l.a.createElement("a",at({className:"no-decor"},e),l.a.createElement("span",{className:"icon-edit qtr-margin-right"}),"Edit"),st={timeout:{appear:200,enter:200,exit:100},classNames:{appearActive:"animated fast-200 fadeIn",enterActive:"animated fast-200 fadeIn",exitActive:"animated fast-100 fadeOut"},onExit:e=>{e.style.position="absolute",e.style.right="10px"},onExited:e=>{e.style.position=void 0,e.style.right=void 0}},it=({set:e})=>{const{editSet:t,deleteSet:a}=l.a.useContext(E),[n,r]=l.a.useState(!1);return l.a.createElement("div",{className:"actions flex flex-center-vertical"},l.a.createElement(Ge,{component:null},n?l.a.createElement(et,at({key:`confirmation-${e.id}`},st),l.a.createElement(rt,{confirm:()=>a(e),cancel:()=>r(!1),onMouseLeave:()=>r(!1)})):l.a.createElement(et,at({key:`actions-${e.id}`},st),l.a.createElement("span",null,l.a.createElement(lt,{onClick:()=>t(e)}),l.a.createElement(nt,{onClick:()=>r(!0)})))))};var ot=({value:e,className:t})=>l.a.createElement("div",{className:`panel panel--bordered like-input ${t||""}`},l.a.createElement("div",{className:"flex-fill flex-center-vertical",style:{minWidth:0}},l.a.createElement("span",{className:"half-margin-right text-ellipsis"},e.name,e.count?l.a.createElement("span",{className:"qtr-margin-left text-muted text-small"},`Commands: ${e.count}`):l.a.createElement("span",{className:"qtr-margin-left text-warning text-small"},"No commands"))),l.a.createElement(it,{set:e})),ct=({text:e,onClick:t})=>l.a.createElement("div",{className:"flex flex-center half-margin-top half-margin-bottom"},l.a.createElement(d.Button.Light,{onClick:t},e||"Add",l.a.createElement("span",{className:"icon-add-outline qtr-margin-left",title:e||"Add"}))),ut=n(39),mt=n(83),dt=n.n(mt);const pt=Object(ut.sortableHandle)(()=>l.a.createElement("span",{className:"drag-handle half-margin-right"}));var ft=({children:e})=>l.a.createElement("div",{className:"flex-fill flex-center-vertical",style:{minWidth:0}},l.a.createElement(pt,null),e);const ht=e=>{const t=parseInt(e/36e5);e-=36e5*t;const a=parseInt(e/6e4);e-=6e4*a;const n=parseInt(e/1e3);e-=1e3*n;let r=[];return t&&r.push(`${t} h`),a&&r.push(`${a} min`),n&&r.push(`${n} sec`),!e&&r.length||r.push(`${e} ms`),r.join(" ")};function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach((function(t){vt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ot=l.a.createContext(),xt=e=>{let{icon:t,marginLeft:a}=e,n=yt(e,["icon","marginLeft"]);return l.a.createElement("a",gt({className:`no-decor${a?" qtr-margin-left":""}`},n),l.a.createElement("span",{className:`icon-${t}`}))},jt=e=>{let{icon:t}=e,a=yt(e,["icon"]);return l.a.createElement(xt,gt({icon:"delete"},a))},Nt=({inputRef:e})=>{const{index:t,value:a,saveDly:n,cancel:r}=l.a.useContext(Ot),[s,i]=l.a.useState(a.dly);return l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"form-group__text"},l.a.createElement("input",{ref:e,type:"text",value:s,onChange:e=>{let t=e.target.value;Number.isNaN(t)?Object(d.toast)("error","Incorrect input","Only numbers allowed",!1):(t=parseInt(t,10))<0?Object(d.toast)("error","Incorrect input","Only positive numbers allowed",!1):t>36e6?Object(d.toast)("error","Incorrect input","Not more than 10 hours",!1):i(t||0)},onKeyPress:e=>{"Enter"!==e.key?"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),r()):n(s)},onBlur:()=>n(s),id:`delay-edit-${t}`}),l.a.createElement("label",{htmlFor:`delay-edit-${t}`},"Delay ",l.a.createElement("span",{className:"text-small"},"(ms)"))))},Ct=()=>{const{value:{acc:e},saveAcc:t}=l.a.useContext(Ot);return l.a.createElement("div",{className:"form-group form-group--inline"},l.a.createElement("div",{className:"form-group__text"},l.a.createElement("label",{htmlFor:"-"},"Accounting"),l.a.createElement("ul",{className:"list list--inline divider--vertical"},[["off","off"],["authorized","if authorized"],["always","always"]].map(([a,n])=>l.a.createElement("li",{key:a,style:{whiteSpace:"nowrap"}},e===a?l.a.createElement("span",{className:"text-primary"},n):l.a.createElement("span",{className:"link",onClick:()=>t(a)},n))))))},wt=()=>{const{value:{stop:e},saveStop:t}=l.a.useContext(Ot);return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"switch",style:{top:"unset"}},l.a.createElement("input",{type:"checkbox",checked:e,onChange:()=>t(!e)}),l.a.createElement("span",{className:"switch__input"}),l.a.createElement("span",{className:"switch__label hidden-xs"},"Stop if authorization failed")))},kt=()=>l.a.createElement(d.Panel,null,l.a.createElement(Nt,null),l.a.createElement(wt,null),l.a.createElement(Ct,null)),Ft=()=>{const{editState:e,index:t}=l.a.useContext(Ot),{deleteCommand:a}=l.a.useContext(E);return e?null:l.a.createElement("div",{className:"actions flex flex-center-vertical base-margin-left"},l.a.createElement(jt,{onClick:()=>a(t),title:"Delete"}))},It=()=>{const{editState:e,cancel:t,saveCmd:a,saveDly:n}=l.a.useContext(Ot);return e?l.a.createElement("div",{className:"actions flex flex-center-vertical"},l.a.createElement(xt,{onClick:"CMD"===e?a:n,title:"Save",icon:"check"}),l.a.createElement(xt,{onClick:t,title:"Cancel",marginLeft:!0,icon:"close"})):null},St=e=>{let{inputRef:t}=e,a=yt(e,["inputRef"]);const{editState:n,value:r,editCmd:s}=l.a.useContext(Ot);if(n)return null;const[i,...o]=r.cmd.split(" ");return l.a.createElement(l.a.Fragment,null,l.a.createElement(ft,null,l.a.createElement("span",gt({className:"half-margin-right text-ellipsis"},a,{style:{cursor:"text"},onClick:s}),l.a.createElement("span",{className:"text-bold command",title:"Command"},i),l.a.createElement("span",{key:"attributes",className:"attributes",title:"Attributes"},` ${o.join(" ")}`))),l.a.createElement(d.Dropdown,{type:"custom",header:l.a.createElement("div",{className:"delay-wrap btn--dropdown"},l.a.createElement("span",{title:"Delay"},`+${ht(r.dly)}`),", ",l.a.createElement("span",{title:"Accounting"},"accounting: ","off"===r.acc?l.a.createElement("span",{className:"text-danger"},"off"):"authorized"===r.acc?l.a.createElement("span",{className:"text-success"},"if authorized"):l.a.createElement("span",{className:"text-warning"},"always")),r.stop?l.a.createElement(l.a.Fragment,null,", ",l.a.createElement("span",{title:"Stop if authZ failed",className:"text-danger"},"stop")):null),alwaysClose:!1,openTo:"left"},l.a.createElement(kt,null)))},_t=()=>{const{editState:e,value:t,saveCmd:a,cancel:n}=l.a.useContext(Ot),[r,s]=l.a.useState(t.cmd),{addCommand:i}=l.a.useContext(E),o=l.a.useRef();if(l.a.useEffect(()=>{e&&o.current&&o.current.focus()},[e]),!e)return null;return l.a.createElement(ft,null,l.a.createElement("input",{ref:o,type:"text",value:r,onChange:e=>s(e.target.value),onPaste:e=>{let t;if(window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData&&(t=e.clipboardData.getData("text/plain")),t){const a=t.split(/\r\n|\r|\n/).filter(e=>e.trim().length).map(e=>e.trim());if(a.length>1){e.preventDefault(),e.stopPropagation();const t=Math.min(o.current.selectionStart,o.current.selectionEnd),n=Math.max(o.current.selectionStart,o.current.selectionEnd);return s(r.substr(0,t)+a[0]+r.substr(n)),a.splice(0,1),a.forEach(e=>i(e)),!1}}return!0},onKeyDown:e=>{"Enter"===e.key&&a(r),"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),n())},onBlur:()=>a(r)}))};var Pt=Object(ut.sortableElement)(({index:e,value:t,innerRef:a})=>{const[n,r]=l.a.useState(!1),{saveCommand:s,deleteCommand:i}=l.a.useContext(E);l.a.useEffect(()=>{t.cmd||r(!0)},[]);return l.a.createElement(Ot.Provider,{value:{editState:n,index:e,value:t,cancel:()=>{n&&!t.cmd.trim()&&i(e),r(!1)},saveCmd:a=>{const n=Et({},t,{cmd:a});r(!1),n.cmd.trim()?s(e,n):i(e)},saveDly:a=>s(e,Et({},t,{dly:a||0})),saveAcc:a=>s(e,Et({},t,{acc:a})),saveStop:a=>s(e,Et({},t,{stop:a})),editCmd:()=>r(!0)}},l.a.createElement("div",{className:`panel panel--bordered like-input ${n?"focused":""}`,ref:a},l.a.createElement(_t,null),l.a.createElement(St,null),l.a.createElement(Ft,null),l.a.createElement(It,null)))});const At=Object(ut.sortableContainer)(({items:e})=>l.a.createElement("div",{className:"list sortable"},l.a.createElement(Ge,{component:null,appear:!0},e.map((e,t)=>l.a.createElement(Xe.a,{key:t},l.a.createElement(Pt,{key:t,index:t,value:e}))))));var $t=({form:e,field:t})=>{const[a,n]=l.a.useState(Object(u.getIn)(e.values,t.name,[]));l.a.useEffect(()=>{e.setFieldValue(t.name,a)},[a]);const r=(e="")=>n(t=>[...t,{cmd:e,dly:0,acc:"authorized",stop:!1}]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group"},t.value&&t.value.length?l.a.createElement(E.Provider,{value:{saveCommand:(e,t)=>n(a=>(a[e]=t,[...a])),deleteCommand:e=>n(t=>(t.splice(e,1),[...t])),addCommand:r}},l.a.createElement(At,{items:t.value,onSortEnd:({oldIndex:e,newIndex:t})=>n(a=>dt()(a,e,t)),lockAxis:"y",transitionDuration:300,useDragHandle:!0,helperClass:"form-group panel--raised like-input-hover opacity-70 z1100 no-margin"})):l.a.createElement(d.Alert.Info,null,"No commands added yet."),l.a.createElement(ct,{text:"Add commands",onClick:()=>r()})))};function Dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Tt=Object(u.connect)(({formik:e,commands:t})=>{const[a,n]=l.a.useState("none");l.a.useEffect(()=>{const a=[...new Set(Object(u.getIn)(e.values,t,[]).map(e=>e.acc))];n(1===a.length?a[0]:"none")},[Object(u.getIn)(e.values,t,[])]);return l.a.createElement("div",{className:"form-group form-group--inline"},l.a.createElement("div",{className:"form-group__text"},l.a.createElement("label",null,"Accounting"),l.a.createElement("ul",{className:"list list--inline divider--vertical"},[["off","off"],["authorized","if authorized"],["always","always"]].map(([n,r])=>l.a.createElement("li",{key:n},a===n?l.a.createElement("span",{className:"text-primary"},r):l.a.createElement("span",{className:"link",onClick:()=>(a=>{const n=Object(u.getIn)(e.values,t,[]);n.length&&(n.forEach(e=>{e.acc=a}),e.setFieldValue(t,[...n],!1))})(n)},r))))))});var Rt=Object(u.connect)(({formik:e,set:t,handleClose:a,save:n})=>{const r=t?Object(u.getIn)(e.values,["commands",t.id],{}):{},s="commands.temp";return l.a.useEffect(()=>{t&&e.setFieldValue(s,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dt(a,!0).forEach((function(t){Vt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{name:t.name}),!1)},[t]),l.a.createElement(d.Modal,{title:"Edit set",size:"full",closeIcon:!0,closeHandle:a,autoClose:!0,isOpen:Boolean(t)},l.a.createElement(d.ModalBody,{className:"text-left"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-5 col-lg-4 col-xl-3",style:{borderRight:"var(--cui-border)"}},l.a.createElement("h4",{className:"display-4"},"Parameters"),l.a.createElement(u.Field,{component:d.Input,name:`${s}.name`,label:l.a.createElement(l.a.Fragment,null,"Name of the command set ",l.a.createElement("span",{className:"text-small"},"(for display only)"))}),l.a.createElement(u.Field,{component:d.Switch,name:`${s}.should_stop_on_fail`,right:"Stop after first failed command"}),l.a.createElement(Tt,{commands:`${s}.commands`})),l.a.createElement("div",{className:"col-md-7 col-lg-8 col-xl-9"},l.a.createElement("h4",{className:"display-4 no-margin-bottom"},"Commands"),l.a.createElement("h5",{className:"subheading"},"Enter full commands. Paste multi-line text, every line will be added as a command"),l.a.createElement(u.Field,{component:$t,name:`${s}.commands`})))),l.a.createElement(d.ModalFooter,null,l.a.createElement(d.Button,{color:"light",onClick:a,type:"button"},"Close"),l.a.createElement(d.Button,{color:"success",onClick:()=>n(t,Object(u.getIn)(e.values,"commands.temp")),type:"button"},"Save")))});const Lt=({items:e})=>l.a.createElement("div",{className:"list sortable"},l.a.createElement(Ge,{component:null,appear:!0},e.map((e,t)=>l.a.createElement(Xe.a,{key:e.id},l.a.createElement(ot,{index:t,value:e})))));var qt=Object(u.connect)(({formik:e})=>{const[t,a]=l.a.useState([]),[n,r]=l.a.useState(null);l.a.useEffect(()=>{n||(e.setFieldValue("commands.temp",void 0,!1),e.unregisterField("commands.temp"))},[n]),l.a.useEffect(()=>{e.setFieldValue("commands.order",t.map(e=>e.id),!1)},[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"form-group__text"},l.a.createElement("label",null,"Command sets",Object(u.getIn)(e.values,"commands.order",[]).length>1?". You can re-order them by dragging.":""),t.length?l.a.createElement(E.Provider,{value:{editSet:e=>r(e),deleteSet:n=>{const r=t.findIndex(e=>e.id===n.id);e.setFieldValue(["commands",n.id],void 0,!1),e.unregisterField(["commands",n.id]),a([...t.slice(0,r),...t.slice(r+1)])}}},l.a.createElement(Lt,{items:t})):l.a.createElement(d.Alert.Info,null,"No sets yet, add if authorization/accounting is required."))),l.a.createElement(ct,{text:"Add set",onClick:()=>{a(e=>{const t=[...e,{id:Ye()(),name:`Set ${e.length+1}`}];return r(t[t.length-1]),t})}}),l.a.createElement(Rt,{set:n,handleClose:()=>r(null),save:(n,l)=>{e.setFieldValue(["commands",n.id],l,!1);const s=t.findIndex(e=>e.id===n.id);t[s].name=l.name,t[s].count=l.commands.length||0,a([...t]),r(null)}}))});var Bt=Object(u.connect)(()=>l.a.createElement("div",{className:"section section--compressed"},l.a.createElement(C,{title:"Command Sets"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement(qt,null))));var Mt=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>{e.setFieldValue("auth.method",Object(u.getIn)(t,"auth.method","pap"),!1)},[]),l.a.createElement(u.Field,{name:"auth.method",component:d.Select,title:"Authentication type",prompt:"Select type",id:"authentication-method"},t.auth.methods.map(e=>l.a.createElement("option",{id:e,value:e,key:e},e.toUpperCase())))});var zt=({method:e})=>l.a.createElement($.c,{in:"ascii"===e,mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("div",{className:"form-group animated faster fadeIn"},l.a.createElement(d.Alert.Info,null,"With ASCII type username and password will be sent in different packets.")));const Ut=[["TAC_PLUS_AUTHEN_SVC_NONE",0],["TAC_PLUS_AUTHEN_SVC_LOGIN",1],["TAC_PLUS_AUTHEN_SVC_ENABLE",2],["TAC_PLUS_AUTHEN_SVC_PPP",3],["TAC_PLUS_AUTHEN_SVC_ARAP",4],["TAC_PLUS_AUTHEN_SVC_PT",5],["TAC_PLUS_AUTHEN_SVC_RCMD",6],["TAC_PLUS_AUTHEN_SVC_X25",7],["TAC_PLUS_AUTHEN_SVC_NASI",8],["TAC_PLUS_AUTHEN_SVC_FWPROX",9]];var Ht=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>{e.setFieldValue("auth.attributes.service",Object(u.getIn)(t,"auth.attributes.service",1),!1)},[]),l.a.createElement(u.Field,{name:"auth.attributes.service",component:d.Select,title:"Service",prompt:"Select service",id:"auth.attributes.service"},Ut.map(([e,t])=>l.a.createElement("option",{id:e,value:t,key:e},e)))});const Gt=[["TAC_PLUS_PRIV_LVL_MAX",15],["TAC_PLUS_PRIV_LVL_USER",1],["TAC_PLUS_PRIV_LVL_MIN",0]];var Wt=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>{e.setFieldValue("auth.attributes.priv_lvl",Object(u.getIn)(t,"auth.attributes.priv_lvl",0),!1)},[]),l.a.createElement(u.Field,{name:"auth.attributes.priv_lvl",component:d.EditableSelect,type:"number",min:0,max:15,title:"Privilege Level",prompt:"Select level",id:"auth.attributes.priv_lvl"},Gt.map(([e,t])=>l.a.createElement("option",{id:e,value:t,key:e},e)))});var Yt=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>{e.setFieldValue("auth.attributes.port",Object(u.getIn)(t,"auth.attributes.port","tty1"),!1)},[]),l.a.createElement(u.Field,{name:"auth.attributes.port",component:d.Input,label:"Port",prompt:"Port",id:"auth.attributes.port"})});const Xt=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>(e.setFieldValue("auth.attributes.chpass_how.min-length",Object(u.getIn)(t,"auth.attributes.chpass_how.min-length",8),!1),e.setFieldValue("auth.attributes.chpass_how.max-length",Object(u.getIn)(t,"auth.attributes.chpass_how.max-length",12),!1),()=>{e.unregisterField("auth.attributes.chpass_how.min-length"),e.setFieldValue("auth.attributes.chpass_how.min-length",void 0,!1),e.unregisterField("auth.attributes.chpass_how.max-length"),e.setFieldValue("auth.attributes.chpass_how.max-length",void 0,!1)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(u.Field,{component:d.Input,type:"number",name:"auth.attributes.chpass_how.min-length",label:"Min length",validate:t=>{if(t>Object(u.getIn)(e.values,"auth.attributes.chpass_how.max-length"))return"Min length cannot be greater than max length"},min:"1",max:"64"})),l.a.createElement("div",{className:"col"},l.a.createElement(u.Field,{component:d.Input,type:"number",name:"auth.attributes.chpass_how.max-length",label:"Max length",validate:t=>{if(t<Object(u.getIn)(e.values,"auth.attributes.chpass_how.min-length"))return"Max length cannot be less than min length"},min:"1",max:"64"}))),l.a.createElement(d.Alert.Info,{className:"half-margin-top"},"You'll find new password on TACACS sessions page"))}),Jt=Object(u.connect)(({formik:e})=>{const t=l.a.useContext(b);return l.a.useEffect(()=>(e.setFieldValue("auth.attributes.chpass_how.value",Object(u.getIn)(t,"auth.attributes.chpass_how.min-length",""),!1),()=>{e.unregisterField("auth.attributes.chpass_how.value"),e.setFieldValue("auth.attributes.chpass_how.value",void 0,!1)}),[]),l.a.createElement(u.Field,{component:d.Input,type:"text",name:"auth.attributes.chpass_how.value",label:"Password"})});var Kt=Object(u.connect)(({formik:e,method:t})=>{const a=l.a.useContext(b);return l.a.useEffect(()=>{e.setFieldValue("auth.attributes.chpass",Object(u.getIn)(a,"auth.attributes.chpass",void 0),!1)},[]),l.a.createElement($.c,{in:"ascii"===t,mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(L.a,{variants:[{variant:"random",display:"Random",component:l.a.createElement("div",{className:"tab animated fadeIn fast active-tab",key:"random"},l.a.createElement(Xt,null))},{variant:"static",display:"Specified",component:l.a.createElement("div",{className:"tab animated fadeIn fast active-tab",key:"static"},l.a.createElement(Jt,null))}],varPrefix:"auth.attributes.chpass",title:"Change password",disableable:!0,enableTitleAppend:", how: "}))});var Zt=Object(u.connect)(({formik:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{title:"Authentication"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement(Mt,null),l.a.createElement(zt,{method:Object(u.getIn)(e.values,"auth.method")}),l.a.createElement(Wt,null),l.a.createElement(Ht,null),l.a.createElement(Yt,null),l.a.createElement(Kt,{method:Object(u.getIn)(e.values,"auth.method")}))));var Qt=()=>l.a.createElement("div",{className:"section section--compressed"},l.a.createElement(Zt,null));function ea(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const aa=e=>l.a.createElement("a",ta({className:"no-decor qtr-margin-left"},e),l.a.createElement("span",{className:"icon-trash qtr-margin-right"}),"Delete"),na=e=>{let{confirm:t,cancel:a}=e,n=ea(e,["confirm","cancel"]);return l.a.createElement("span",n,"Are you sure?",l.a.createElement(d.Button.Danger,{size:"small",className:"qtr-margin-left no-decor",onClick:t},"Yes"),l.a.createElement(d.Button.Light,{size:"small",className:"qtr-margin-left no-decor",onClick:a},"No"))},ra=e=>l.a.createElement("a",ta({className:"no-decor"},e),l.a.createElement("span",{className:"icon-edit qtr-margin-right"}),"Edit"),la={timeout:{appear:200,enter:200,exit:100},classNames:{appearActive:"animated fast-200 fadeIn",enterActive:"animated fast-200 fadeIn",exitActive:"animated fast-100 fadeOut"},onExit:e=>{e.style.position="absolute",e.style.right="10px"},onExited:e=>{e.style.position=void 0,e.style.right=void 0}},sa=({set:e})=>{const{editReq:t,deleteReq:a}=l.a.useContext(E),[n,r]=l.a.useState(!1);return l.a.createElement("div",{className:"actions flex flex-center-vertical"},l.a.createElement(Ge,{component:null},n?l.a.createElement(et,ta({key:`confirmation-${e.id}`},la),l.a.createElement(na,{confirm:()=>a(e),cancel:()=>r(!1),onMouseLeave:()=>r(!1)})):l.a.createElement(et,ta({key:`actions-${e.id}`},la),l.a.createElement("span",null,l.a.createElement(ra,{onClick:()=>t(e)}),l.a.createElement(aa,{onClick:()=>r(!0)})))))},ia=Object(ut.sortableHandle)(()=>l.a.createElement("span",{className:"drag-handle half-margin-right"}));var oa=Object(ut.sortableElement)(({value:e,className:t})=>l.a.createElement("div",{className:`panel panel--bordered like-input ${t||""}`},l.a.createElement("div",{className:"flex-fill flex-center-vertical",style:{minWidth:0}},l.a.createElement(ia,null),l.a.createElement("span",{className:"half-margin-right text-ellipsis"},e.name,l.a.createElement("span",{className:"half-margin-left text-muted text-small"},"author"===e.type?"Authorization":"Accounting"," +",ht(e.dly)))),l.a.createElement(sa,{set:e})));const ca=["shell","tty-server","connection","system","firewall"];var ua=({prefix:e})=>l.a.createElement(u.Field,{name:`${e}.service`,component:d.EditableSelect,title:"Service",prompt:"Select service",id:`${e}.service`},ca.map(e=>l.a.createElement("option",{id:e,value:e,key:e},e)));var ma=Object(u.connect)(({prefix:e,formik:t,onDelete:a})=>{const[n,r]=l.a.useState([]),s=`${e}.cmd`;return l.a.useEffect(()=>{r([{id:"null",name:"Empty"},...Object(u.getIn)(t.values,"commands.order",[]).map(e=>({id:e,name:Object(u.getIn)(t.values,["commands",e,"name"])}))]),Object(u.getIn)(t.values,s,void 0)||t.setFieldValue(s,"null",!1)},[]),l.a.createElement("div",{className:"flex half-margin-top"},l.a.createElement(u.Field,{name:s,component:d.Select,title:"Command set",prompt:"Select command set",id:s,className:"flex-fill"},n.map(({id:e,name:t})=>l.a.createElement("option",{id:e,value:e,key:e},t))),"shell"===Object(u.getIn)(t.values,`${e}.service`)?null:l.a.createElement(d.ButtonGroup,{square:!0,className:"half-margin-left base-margin-top"},l.a.createElement(d.Button,{type:"button",icon:!0,color:"link",title:"Remove",onClick:a},l.a.createElement(d.Icon,{icon:"remove"}))))});const da=[["protocol","String"],["cmd","String"],["cmd-arg","String"],["acl","Numeric"],["inacl","String"],["outacl","String"],["addr","IP-Address"],["addr-pool","String"],["routing","Boolean"],["route","String"],["timeout","Numeric"],["idletime","Numeric"],["autocmd","String"],["noescape","Boolean"],["nohangup","Boolean"],["priv-lvl","Numeric"],["remote_user","String"],["remote_host","String"]];var pa=Object(u.connect)(({prefix:e,onDelete:t,formik:a})=>l.a.createElement("div",{className:"row half-margin-top"},l.a.createElement("div",{className:"col-md-5 col-lg-4 col-xl-3"},l.a.createElement(u.Field,{name:`${e}.attr`,component:d.EditableSelect,title:"Attribute",prompt:"Select attribute",id:`${e}.attr`},da.map(([e,t])=>l.a.createElement("option",{id:e,value:e,key:e},e,l.a.createElement("span",{className:"text-muted half-margin-left text-small"},`(${t})`))))),l.a.createElement("div",{className:"col-md-7 col-lg-8 col-xl-9 flex"},l.a.createElement(u.Field,{component:d.Input,name:`${e}.value`,label:"Value",className:"half-margin-right flex-fill"}),"shell"===Object(u.getIn)(a.values,`${e}.service`)?null:l.a.createElement(d.ButtonGroup,{square:!0,className:"base-margin-top"},l.a.createElement(d.Button,{type:"button",icon:!0,color:"link",title:"Remove",onClick:t},l.a.createElement(d.Icon,{icon:"remove"}))))));function fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ha(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ba=({formik:e,prefix:t,addAttr:a,deleteAttr:n})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,{component:null,appear:!1,enter:!0,exit:!0},Object(u.getIn)(e.values,`${t}.custom`,[]).map((e,a)=>l.a.createElement(Xe.a,{key:e.id},l.a.createElement(pa,{prefix:`${t}.custom.${a}`,onDelete:()=>n(e.id)})))),l.a.createElement("div",{className:"flex flex-center half-margin-top half-margin-bottom"},l.a.createElement(d.Button.Light,{onClick:a},"Add attribute",l.a.createElement("span",{className:"icon-add-outline qtr-margin-left",title:"Add attribute"})))),Ea=({formik:e,prefix:t,addAttr:a,deleteAttr:n})=>{const[r,s]=l.a.useState(!1),i=Object(u.getIn)(e.values,`${t}.service`);return l.a.useEffect(()=>{"shell"===i&&s(!0)},[i]),l.a.createElement(l.a.Fragment,null,l.a.createElement(ua,{prefix:t}),l.a.createElement(Ge,{component:null,appear:!1,enter:!0,exit:!0},r?l.a.createElement(Xe.a,{key:"command-set"},l.a.createElement(ma,{prefix:t,onDelete:()=>s(!1)})):null,Object(u.getIn)(e.values,`${t}.custom`,[]).map((e,a)=>l.a.createElement(Xe.a,{key:e.id},l.a.createElement(pa,{prefix:`${t}.custom.${a}`,onDelete:()=>n(e.id)})))),r?l.a.createElement(d.Alert.Info,{className:"half-margin-top"},"Accounting parameters will be taken from the command set"):l.a.createElement(u.Field,{name:`${t}.acct`,component:d.Switch,right:"Send accounting if authorization passed"}),l.a.createElement("div",{className:"flex flex-center half-margin-top half-margin-bottom"},l.a.createElement(d.ConditionalWrapper,{condition:!r,wrapper:l.a.createElement(d.ButtonGroup,null)},r?null:l.a.createElement(d.Button.Light,{onClick:()=>s(!0)},"Add command set",l.a.createElement("span",{className:"icon-add-outline qtr-margin-left",title:"Add command set"})),l.a.createElement(d.Button.Light,{onClick:a},"Add attribute",l.a.createElement("span",{className:"icon-add-outline qtr-margin-left",title:"Add attribute"})))))},va=({prefix:e})=>l.a.createElement("div",{className:"row base-margin-bottom half-margin-top"},l.a.createElement("div",{className:"col"},l.a.createElement(u.Field,{component:d.Input,name:`${e}.name`,label:l.a.createElement(l.a.Fragment,null,"Name of the request ",l.a.createElement("span",{className:"text-small"},"(for display only)"))})),l.a.createElement("div",{className:"col"},l.a.createElement(u.Field,{component:d.Input,name:`${e}.dly`,type:"number",min:0,max:36e6,label:l.a.createElement(l.a.Fragment,null,"Delay ",l.a.createElement("span",{className:"text-small"},"(ms)"))})));var ga=Object(u.connect)(({formik:e,set:t,handleClose:a,save:n})=>{const r=t?Object(u.getIn)(e.values,["authz",t.id],{}):{},s="authz.temp";l.a.useEffect(()=>{Object(u.getIn)(e.values,`${s}.custom`,void 0)||e.setFieldValue(`${s}.custom`,[],!1)},[]),l.a.useEffect(()=>{t&&e.setFieldValue(s,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fa(a,!0).forEach((function(t){ha(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{name:t.name}),!1)},[t]);return l.a.createElement(d.Modal,{title:"Edit request",size:"large",closeIcon:!0,closeHandle:a,autoClose:!0,isOpen:Boolean(t)},l.a.createElement(d.ModalBody,{className:"text-left"},l.a.createElement(ke.a,{f:{grouper:"General",accent:!0}}),l.a.createElement(va,{prefix:s}),l.a.createElement(ke.a,{f:{grouper:"Attributes",accent:!0}}),t?l.a.createElement("author"===t.type?Ea:ba,{formik:e,prefix:s,addAttr:()=>{let t=new Uint16Array(1);window.crypto.getRandomValues(t),e.setFieldValue(`${s}.custom`,[...Object(u.getIn)(e.values,`${s}.custom`,[]),{attr:"",value:"",id:t[0]}],!1)},deleteAttr:t=>{const a=Object(u.getIn)(e.values,`${s}.custom`),n=a.findIndex(e=>e.id===t);e.setFieldValue(`${s}.custom`,[...a.slice(0,n),...a.slice(n+1)],!1)}}):null),l.a.createElement(d.ModalFooter,null,l.a.createElement(d.Button,{color:"light",onClick:a,type:"button"},"Close"),l.a.createElement(d.Button,{color:"success",onClick:()=>n(t,Object(u.getIn)(e.values,"authz.temp")),type:"button"},"Save")))});function ya(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Oa=Object(ut.sortableContainer)(({items:e})=>l.a.createElement("div",{className:"list sortable"},l.a.createElement(Ge,{component:null,appear:!0},e.map((e,t)=>l.a.createElement(Xe.a,{key:e.id},l.a.createElement(oa,{index:t,value:e}))))));var xa=Object(u.connect)(({formik:e})=>{const[t,a]=l.a.useState([]),[n,r]=l.a.useState(null);l.a.useEffect(()=>{n||(e.setFieldValue("authz.temp",void 0,!1),e.unregisterField("authz.temp"))},[n]),l.a.useEffect(()=>{e.setFieldValue("authz.order",t.map(e=>e.id),!1)},[t]);const s=t=>{a(a=>{const n=Ye()(),l=[...a,{id:n,type:t,dly:0,name:`Request ${a.length+1}`}];return e.setFieldValue(["authz",n,"dly"],0,!1),e.setFieldValue(["authz",n,"type"],t,!1),"author"===t&&e.setFieldValue(["authz",n,"service"],"shell",!1),r(l[l.length-1]),l})};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"form-group__text"},l.a.createElement("label",{htmlFor:"_"},"Authorization requests",Object(u.getIn)(e.values,"authz.order",[]).length>1?". You can re-order them by dragging.":""),t.length?l.a.createElement(E.Provider,{value:{editReq:e=>r(e),deleteReq:n=>{const r=t.findIndex(e=>e.id===n.id);e.setFieldValue(["authz",n.id],void 0,!1),e.unregisterField(["authz",n.id]),a([...t.slice(0,r),...t.slice(r+1)])}}},l.a.createElement(Oa,{items:t,onSortEnd:({oldIndex:e,newIndex:t})=>a(a=>dt()(a,e,t)),lockAxis:"y",transitionDuration:300,useDragHandle:!0,helperClass:"form-group panel--raised like-input-hover opacity-70"})):l.a.createElement(d.Alert.Info,null,"No requests yet, add if authorization is required."))),l.a.createElement("div",{className:"flex flex-center half-margin-top half-margin-bottom"},l.a.createElement(d.ButtonGroup,null,l.a.createElement(d.Button.Light,{onClick:()=>s("author"),className:"flex-center"},"Add authorization",l.a.createElement("span",{className:"icon-add-outline qtr-margin-left",title:"Add authorization"})),l.a.createElement(d.Button.Light,{onClick:()=>s("acct"),className:"flex-center"},"Add accounting",l.a.createElement("span",{className:"icon-add-outline qtr-margin-left",title:"Add accounting"})))),l.a.createElement(ga,{set:n,handleClose:()=>r(null),save:(n,l)=>{let{name:s}=l,i=ya(l,["name"]);e.setFieldValue(["authz",n.id],i,!1);const o=t.findIndex(e=>e.id===n.id);t[o].name=s,t[o].dly=i.dly,a([...t]),r(null)}}))});var ja=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{title:"Authorization & Accounting"}),l.a.createElement("div",{className:"panel-body"},l.a.createElement(xa,null),l.a.createElement(pe,{f:{name:"head",value:"If authentication was successful, all these authorization & accounting requests will be sent in the configured order.\nIf a command set selected for a request, an authorization request will be sent for each command in the set."}})));var Na=()=>l.a.createElement("div",{className:"section section--compressed"},l.a.createElement(ja,null)),Ca=n(74),wa=Object(u.connect)(({formik:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,{variants:[{variant:"none",display:"Nothing",component:null},{variant:"job",display:"Job itself",component:l.a.createElement(Ca.a,null)}],varPrefix:"scheduler",title:"What should be scheduled:"}),"none"!==Object(u.getIn)(e.values,"scheduler.variant","none")?l.a.createElement(d.Alert.Info,{className:"animated faster fadeIn"},"Schedule will be added after the job finished"):null)),ka=n(61),Fa=n(36);const Ia=()=>{const{values:e,validateForm:t,setSubmitting:a,setTouched:n}=Object(u.useFormikContext)(),{token:r}=l.a.useContext(b),{tab:s}=Object(m.useParams)(),i=l.a.useCallback(async()=>{const e=await t();e&&Object.keys(e).length&&(n(e),a(!0))},[a,n,t]);return l.a.useEffect(()=>{"api"===s&&i()},[s,i]),r?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"display-3 no-margin half-margin-bottom text-capitalize flex-fluid"},"API"),l.a.createElement("div",{className:"panel-body collector-no-submit"},e?l.a.createElement(ka.b,{method:"POST",headers:ka.a.ALL,auth:`Bearer ${r}`,data:e,url:`${window.location.origin}/tacacs/`}):l.a.createElement(d.Alert.Warning,{title:"Fields are missing"},"Fill all required fields first."))):null};Ia.propTypes={},Ia.defaultProps={};const Sa=({addTab:e})=>{const{setOption:t}=l.a.useContext(b);return l.a.useEffect(()=>{(async()=>{const{preferences:a}=await Object(Fa.a)();a&&a.token&&(e({link:"/api/",name:"api",display:"API",component:Ia,mapping:[/^api[.]/]}),t("token",a.token))})()},[]),null};function _a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_a(a,!0).forEach((function(t){Aa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_a(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Aa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Sa.propTypes={addTab:O.a.func.isRequired};const $a=[{link:"/",name:"general",display:"General",component:R,mapping:[/^nad/,/^server/,/^generation/]},{link:"/user/",name:"user",display:"User Data",component:De,mapping:[/^auth[.]credentials/,/^auth[.]ip/]},{link:"/authen/",name:"authen",display:"Authentication",component:Qt,mapping:[/^auth[.]/]},{link:"/commands/",name:"commands",display:"Command sets",component:Bt,mapping:[/^commands[.]/]},{link:"/author/",name:"author",display:"Authorization & Accounting",component:Na,mapping:[/^authz[.]/]},{link:"/scheduler/",name:"scheduler",display:"Scheduler",component:wa,mapping:[/^scheduler[.]/]}],Da=({isSubmitting:e})=>l.a.createElement("div",{className:"section section--compressed non-removable base-margin-bottom"},l.a.createElement("div",{className:"text-center"},l.a.createElement(d.Button,{color:"primary",type:"submit",disabled:e},"Start",e?l.a.createElement("span",{className:"icon-animation spin qtr-margin-left"}):null))),Va=({tab:{name:e,component:t}})=>{const{tab:a}=Object(m.useParams)();return l.a.createElement("div",{className:`tab-pane${e===a||!a&&"general"===e?" active":""}`},l.a.createElement(t,{}))};i.a.render(l.a.createElement(()=>{l.a.useEffect(()=>{c.a.setAppElement("body")},[]);const[e,t]=l.a.useState($a),[a,n]=l.a.useState({loading:"loading"}),r=async()=>{n({loading:"loading"});try{n(await(async()=>{return(await h.a.get("/tacacs/",{headers:{Accept:"application/json"}})).data})())}catch(e){n({error:e})}};return l.a.useEffect(()=>{r()},[]),a.loading?l.a.createElement("div",{className:"section sticky"},l.a.createElement(d.Spinner,null)):a.error?l.a.createElement(d.Alert,{type:"error",title:"Operation failed"},`Couldn't get TACACS+ options: ${a.error.message}`):l.a.createElement(b.Provider,{value:Pa({},a,{setOption:(e,t)=>n(a=>Pa({},a,{[e]:t}))})},l.a.createElement(m.BrowserRouter,{basename:"/tacacs"},l.a.createElement(u.Formik,{initialValues:{},onSubmit:async(e,{setSubmitting:t})=>{try{e.auth.credentials.limit_sessions&&(e.generation.amount=1);const a=await(async e=>h.a.post("/tacacs/",e,{headers:{Accept:"application/json","Content-Type":"application/json"}}))(e);a.data&&"ok"===a.data.status&&d.toast.success("","Started")}catch(e){d.toast.error("Error",e.data.error||e.message,!1)}finally{t(!1)}}},({isSubmitting:a})=>{const{pathname:n}=Object(m.useLocation)();return l.a.createElement(u.Form,null,l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-lg-3 col-xl-2 fixed-left-lg-up"},l.a.createElement("div",{className:"subheader base-margin-left hidden-sm-down"},"Parameters"),l.a.createElement("ul",{className:"tabs tabs--vertical"},e.map(e=>l.a.createElement("li",{key:`tacacs-tab-${e.name}`,className:`tab ${e.link===n?"active":""}`},l.a.createElement(m.Link,{to:e.link,onClick:e.onClick},e.display))))),l.a.createElement("div",{className:"col-md-8 col-lg-9 col-xl-10 offset-xl-2 offset-lg-3"},l.a.createElement("div",{className:"tab-content"},l.a.createElement(m.Route,{path:"/:tab?",strict:!0},e.map(e=>l.a.createElement(Va,{key:`tacacs-tab-${e.name}`,tab:e}))))))),l.a.createElement(Da,{isSubmitting:a}),l.a.createElement(g,{tabs:e}),l.a.createElement(Sa,{addTab:e=>t(t=>[...t,e])}))}),l.a.createElement(p.a,{id:"toast-portal"},l.a.createElement(d.ToastContainer,null))))},null),document.getElementById("react-app"))},2:function(e,t){e.exports=formik},20:function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},21:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(10),s=a.n(l),i=a(9),o=a(6);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const u=e=>s()({targets:e,opacity:Object(o.b)(!0),translateY:[50,0],complete:()=>{e.style.transform=null,Object(o.d)(e)},easing:o.c}),m=e=>s()({targets:e,translateY:-10,height:{delay:300,value:0},marginTop:0,marginBottom:0,opacity:Object(o.b)(!1),begin:()=>{e.style.minHeight=0},complete:()=>{e.style.minHeight=null,Object(o.d)(e)},easing:o.c}),d=(e,t)=>e.addEventListener(o.a,t);t.a=e=>r.a.createElement(i.d,c({timeout:{enter:300,appear:300,exit:600},onEnter:u,onExit:m,addEndListener:d},e))},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n),l=a(3),s=a.n(l),i=a(2),o=a(1);const c=Object(i.connect)(r.a.forwardRef(({variants:e,varPrefix:t,title:a,formik:n,inline:l,onChange:s,disableable:c,enableTitleAppend:u,className:m},d)=>{const[p,f]=r.a.useState(()=>{const a=e.findIndex(e=>e.selected||e.variant===Object(i.getIn)(n.values,`${t}.variant`,void 0));return!c&&a<0?0:a});r.a.useEffect(()=>{const a=e.findIndex(e=>e.variant===Object(i.getIn)(n.values,`${t}.variant`,void 0));a<0||a===p||f(a)},[Object(i.getIn)(n.values,`${t}.variant`,void 0)]),r.a.useLayoutEffect(()=>{p>=0?(n.setFieldValue(`${t}.variant`,e[p].variant),s&&s(e[p])):(n.setFieldValue(t,void 0),n.unregisterField(t))},[p]);const h=(t,a)=>r.a.createElement(t,{className:"secondary-tabs"},a?r.a.createElement("span",{className:"half-margin-right"},a):null,r.a.createElement(o.Dropdown,{type:"link",header:e[p].display,alwaysClose:!0,className:"flex-center-vertical",stopPropagation:!0},e.map((t,a)=>r.a.createElement("a",{key:t.variant,onClick:()=>f(a),className:e[p].variant===t.variant?"selected":""},t.display))));return r.a.createElement("div",{className:"form-group"+(l?" inline-variants":"")+(m?` ${m}`:""),ref:d},c?r.a.createElement("span",{className:"flex-center-vertical"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onChange:()=>f(e=>e>=0?-1:0),checked:p>=0}),r.a.createElement("span",{className:"switch__input"}),r.a.createElement("span",{className:"switch__label"},a)),p>=0?h("span",u):null):h("div",a),c&&p<0?null:r.a.createElement("div",{className:"tabs-wrap panel"},e[p].component))}));c.propTypes={variants:s.a.arrayOf(s.a.shape({variant:s.a.string,display:s.a.string,component:s.a.node})).isRequired,varPrefix:s.a.string.isRequired,title:s.a.node,inline:s.a.bool,onChange:s.a.func,disableable:s.a.bool,isDisabled:s.a.bool,enableTitleAppend:s.a.string},c.defaultProps={disableable:!1,isDisabled:!1}},27:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));const n={Accept:"application/json"},r={Accept:"application/json","Content-Type":"application/json"}},28:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return h}));var n=a(49),r=a(38),l=(a(3),a(0)),s=a.n(l),i=a(7),o=a.n(i),c=!1,u=a(31),m="unmounted",d="exited",p="entering",f="entered",h="exiting",b=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var r,l=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?l?(r=d,n.appearStatus=p):r=f:r=t.unmountOnExit||t.mountOnEnter?m:d,n.state={status:r},n.nextCallback=null,n}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===m?{status:d}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==p&&a!==f&&(t=p):a!==p&&a!==f||(t=h)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var a=o.a.findDOMNode(this);t===p?this.performEnter(a,e):this.performExit(a)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:m})},a.performEnter=function(e,t){var a=this,n=this.props.enter,r=this.context?this.context.isMounting:t,l=this.getTimeouts(),s=r?l.appear:l.enter;!t&&!n||c?this.safeSetState({status:f},(function(){a.props.onEntered(e)})):(this.props.onEnter(e,r),this.safeSetState({status:p},(function(){a.props.onEntering(e,r),a.onTransitionEnd(e,s,(function(){a.safeSetState({status:f},(function(){a.props.onEntered(e,r)}))}))})))},a.performExit=function(e){var t=this,a=this.props.exit,n=this.getTimeouts();a&&!c?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:d},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:d},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t,a){this.setNextCallback(a);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===m)return null;var t=this.props,a=t.children,r=Object(n.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof a)return s.a.createElement(u.a.Provider,{value:null},a(e,r));var l=s.a.Children.only(a);return s.a.createElement(u.a.Provider,{value:null},s.a.cloneElement(l,r))},t}(s.a.Component);function E(){}b.contextType=u.a,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:E,onEntering:E,onEntered:E,onExit:E,onExiting:E,onExited:E},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;t.d=b},3:function(e,t){e.exports=PropTypes},31:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=r.a.createContext(null)},35:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return u}));var n=a(5),r=a.n(n),l=a(27);const s=async({types:e})=>{return(await r.a.get(globals.rest.dictionaries.by_type+e.join(",")+"/columns/id,name,type/combine/type/",{params:{_:(new Date).getTime()},headers:l.a})).data},i=async({attribute:e})=>{return(await r.a.get(`${globals.rest.generate}get-attribute-data/${e}/`,{params:{_:(new Date).getTime()},headers:l.a})).data},o=async(e,t)=>(async({from:e})=>{var t={url:globals.rest.generate,method:"POST",headers:l.b};if(e.hasOwnProperty("link"))t.method="GET",e.nolocation?t.url=e.link:("/"==t.url[t.url.length-1]&&"/"==e.link[0]&&(t.url=t.url.slice(0,-1)),t.url+=e.link);else{var a={};a[e.call]=e.value,t.data=JSON.stringify(a)}return(await r()(t)).data})(t),c=async e=>{var t={headers:l.b};if(e.api){var a={[e.api.call]:e.api.parameters},n=window.location.pathname+"?ajax=1";t.url=n,t.data=JSON.stringify(a),t.method="POST"}else e.link&&(t.url=e.link,t.method="GET");return(await r()(t)).data},u=async e=>{return r()({url:e.link,method:e.method||"GET",data:e.request?JSON.stringify(e.request):void 0,headers:l.b}).data[e.result.attribute].map(t=>({value:t[e.result.fields.id],label:t[e.result.fields.name]}))};a(103)},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s}));var n=a(5),r=a.n(n);const l=async()=>{return(await r.a.get(globals.rest.preferences.api,{headers:{Accept:"application/json"}})).data},s=async e=>{return(await r.a.put(globals.rest.preferences.api,e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data}},38:function(e,t,a){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.d(t,"a",(function(){return n}))},39:function(e,t){e.exports=SortableHOC},4:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return P}));var n=a(0),r=a.n(n);const l=(()=>"object"==typeof self&&self.self===self?self:"object"==typeof e&&e.global===e?e:"object"==typeof e&&e.GLOBAL===e?e:{})();l.__REACT_ASYNC__=l.__REACT_ASYNC__||{};const s=()=>{};class i{constructor(){this.abort=s,this.signal={}}}let o;try{o=a(3)}catch(e){}const c=o&&o.oneOfType([o.node,o.func]),u=o&&o.shape({initialValue:o.any,data:o.any,error:o.instanceOf(Error),value:o.any,startedAt:o.instanceOf(Date),finishedAt:o.instanceOf(Date),status:o.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:o.bool,isPending:o.bool,isLoading:o.bool,isFulfilled:o.bool,isResolved:o.bool,isRejected:o.bool,isSettled:o.bool,counter:o.number,promise:o.instanceOf(Promise),run:o.func,reload:o.func,cancel:o.func,setData:o.func,setError:o.func});var m=o&&{Async:{children:c,promise:o.instanceOf(Promise),promiseFn:o.func,deferFn:o.func,watch:o.any,watchFn:o.func,initialValue:o.any,onResolve:o.func,onReject:o.func,reducer:o.func,dispatcher:o.func,debugLabel:o.string,suspense:o.bool},Initial:{children:c,state:u.isRequired,persist:o.bool},Pending:{children:c,state:u.isRequired,initial:o.bool},Fulfilled:{children:c,state:u.isRequired,persist:o.bool},Rejected:{children:c,state:u.isRequired,persist:o.bool},Settled:{children:c,state:u.isRequired,persist:o.bool}};const d=(e,...t)=>{if("function"==typeof e){return e(...t)}return e},p=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isInitial||t&&!a.data?d(e,a):null),f=({children:e,initial:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,!a.isPending||t&&a.value?null:d(e,a)),h=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isFulfilled||t&&a.data?d(e,a.data,a):null),b=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isRejected||t&&a.error?d(e,a.error,a):null),E=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isSettled||t&&a.value?d(e,a):null);var v;m&&(p.propTypes=m.Initial,f.propTypes=m.Pending,h.propTypes=m.Fulfilled,b.propTypes=m.Rejected,E.propTypes=m.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(v||(v={}));const g=(e,t)=>e instanceof Error?v.rejected:void 0!==e?v.fulfilled:t?v.pending:v.initial,y=e=>e instanceof Error?v.rejected:void 0!==e?v.fulfilled:v.initial,O=e=>({status:e,isInitial:e===v.initial,isPending:e===v.pending,isLoading:e===v.pending,isFulfilled:e===v.fulfilled,isResolved:e===v.fulfilled,isRejected:e===v.rejected,isSettled:e===v.fulfilled||e===v.rejected}),x=function(){};Object.setPrototypeOf?Object.setPrototypeOf(x,Promise):x.__proto__=Promise,x.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const j=new x;var N;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(N||(N={}));const C=({initialValue:e,promise:t,promiseFn:a})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||a?new Date:void 0,finishedAt:e?new Date:void 0,...O(g(e,t||a)),counter:0,promise:j}),w=(e,t)=>{switch(t.type){case N.start:return{...e,startedAt:new Date,finishedAt:void 0,...O(v.pending),counter:t.meta.counter,promise:t.meta.promise};case N.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...O(y(e.error||e.data)),counter:t.meta.counter,promise:t.meta.promise};case N.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...O(v.fulfilled),promise:t.meta.promise};case N.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...O(v.rejected),promise:t.meta.promise};default:return e}},k=e=>(t,...a)=>{e(t,...a),t.type===N.start&&"function"==typeof t.payload&&t.payload()};!function(e={},t="Async"){const{Consumer:a,Provider:n}=r.a.createContext(void 0);function s({children:e}){return r.a.createElement(a,null,t=>{if(!t)throw new Error("this component should only be used within an associated <Async> component!");return e(t)})}class o extends r.a.Component{constructor(t){super(t),this.mounted=!1,this.counter=0,this.args=[],this.promise=j,this.abortController=new i,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const a=t.promise,n=t.promiseFn||e.promiseFn,r=t.initialValue||e.initialValue;this.state={...C({initialValue:r,promise:a,promiseFn:n}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=t.debugLabel||e.debugLabel;const{devToolsDispatcher:s}=l.__REACT_ASYNC__,o=t.reducer||e.reducer,c=t.dispatcher||e.dispatcher||s,u=o?(e,t)=>o(e,t,w):w,m=k((e,t)=>{this.setState(t=>u(t,e),t)});this.dispatch=c?e=>c(e,m,t):m}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(t){const{watch:a,watchFn:n=e.watchFn,promise:r,promiseFn:l}=this.props;return a!==t.watch?(this.counter&&this.cancel(),this.load()):n&&n({...e,...this.props},{...e,...t})?(this.counter&&this.cancel(),this.load()):r!==t.promise&&(this.counter&&this.cancel(),r)?this.load():l!==t.promiseFn&&(this.counter&&this.cancel(),l)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in l&&(this.abortController.abort(),this.abortController=new l.AbortController),this.counter++,this.promise=new Promise((t,a)=>{if(!this.mounted)return;this.dispatch({type:N.start,payload:()=>e().then(t,a),meta:this.getMeta()})})}load(){const t=this.props.promise,a=this.props.promiseFn||e.promiseFn;if(t)this.start(()=>t).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(a){const t={...e,...this.props};this.start(()=>a(t,this.abortController)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...t){const a=this.props.deferFn||e.deferFn;if(a){this.args=t;const n={...e,...this.props};return this.start(()=>a(t,n,this.abortController)).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const t=this.props.onCancel||e.onCancel;t&&t(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:N.cancel,meta:this.getMeta()})}onResolve(t){return a=>{if(this.counter===t){const t=this.props.onResolve||e.onResolve;this.setData(a,()=>t&&t(a))}return a}}onReject(t){return a=>{if(this.counter===t){const t=this.props.onReject||e.onReject;this.setError(a,()=>t&&t(a))}return a}}setData(e,t){return this.mounted&&this.dispatch({type:N.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:N.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:e,suspense:t}=this.props;if(t&&this.state.isPending&&this.promise!==j)throw this.promise;if("function"==typeof e){const t=e;return r.a.createElement(n,{value:this.state},t(this.state))}return null!=e?r.a.createElement(n,{value:this.state},e):null}}m&&(o.propTypes=m.Async);const c=e=>r.a.createElement(s,null,t=>r.a.createElement(p,Object.assign({},e,{state:t}))),u=e=>r.a.createElement(s,null,t=>r.a.createElement(f,Object.assign({},e,{state:t}))),d=e=>r.a.createElement(s,null,t=>r.a.createElement(h,Object.assign({},e,{state:t}))),v=e=>r.a.createElement(s,null,t=>r.a.createElement(b,Object.assign({},e,{state:t}))),g=e=>r.a.createElement(s,null,t=>r.a.createElement(E,Object.assign({},e,{state:t})));c.displayName=`${t}.Initial`,u.displayName=`${t}.Pending`,d.displayName=`${t}.Fulfilled`,v.displayName=`${t}.Rejected`,g.displayName=`${t}.Settled`,Object.assign(o,{displayName:t,Initial:c,Pending:u,Loading:u,Fulfilled:d,Resolved:d,Rejected:v,Settled:g})}();function F(e,t){const a="function"==typeof e?{...t,promiseFn:e}:e,r=Object(n.useRef)(0),o=Object(n.useRef)(!0),c=Object(n.useRef)(void 0),u=Object(n.useRef)(a),m=Object(n.useRef)(j),d=Object(n.useRef)(new i),{devToolsDispatcher:p}=l.__REACT_ASYNC__,{reducer:f,dispatcher:h=p}=a,[b,E]=Object(n.useReducer)(f?(e,t)=>f(e,t,w):w,a,C),v=Object(n.useCallback)(h?e=>h(e,k(E),u.current):k(E),[h]),{debugLabel:g}=a,y=Object(n.useCallback)(e=>({counter:r.current,promise:m.current,debugLabel:g,...e}),[g]),O=Object(n.useCallback)((e,t=s)=>(o.current&&(v({type:N.fulfill,payload:e,meta:y()}),t()),e),[v,y]),x=Object(n.useCallback)((e,t=s)=>(o.current&&(v({type:N.reject,payload:e,error:!0,meta:y()}),t()),e),[v,y]),{onResolve:F,onReject:I}=a,S=Object(n.useCallback)(e=>t=>e===r.current&&O(t,()=>F&&F(t)),[O,F]),_=Object(n.useCallback)(e=>t=>e===r.current&&x(t,()=>I&&I(t)),[x,I]),P=Object(n.useCallback)(e=>("AbortController"in l&&(d.current.abort(),d.current=new l.AbortController),r.current++,m.current=new Promise((t,a)=>{if(!o.current)return;v({type:N.start,payload:()=>e().then(t,a),meta:y()})})),[v,y]),{promise:A,promiseFn:$,initialValue:D}=a,V=Object(n.useCallback)(()=>{const e=D&&0===r.current;A?P(()=>A).then(S(r.current)).catch(_(r.current)):$&&!e&&P(()=>$(u.current,d.current)).then(S(r.current)).catch(_(r.current))},[P,A,$,D,S,_]),{deferFn:T}=a,R=Object(n.useCallback)((...e)=>{T&&(c.current=e,P(()=>T(e,u.current,d.current)).then(S(r.current)).catch(_(r.current)))},[P,T,S,_]),L=Object(n.useCallback)(()=>{c.current?R(...c.current):V()},[R,V]),{onCancel:q}=a,B=Object(n.useCallback)(()=>{q&&q(),r.current++,d.current.abort(),o.current&&v({type:N.cancel,meta:y()})},[q,v,y]),{watch:M,watchFn:z}=a;if(Object(n.useEffect)(()=>{z&&u.current&&z(a,u.current)&&(u.current=a,V())}),Object(n.useEffect)(()=>{u.current=a},[a]),Object(n.useEffect)(()=>{r.current&&B(),(A||$)&&V()},[A,$,M]),Object(n.useEffect)(()=>()=>{o.current=!1},[]),Object(n.useEffect)(()=>()=>B(),[]),Object(n.useDebugValue)(b,({status:e})=>`[${r.current}] ${e}`),a.suspense&&b.isPending&&m.current!==j)throw m.current;return Object(n.useMemo)(()=>({...b,run:R,reload:L,cancel:B,setData:O,setError:x}),[b,R,L,B,O,x])}class I extends Error{constructor(e){super(`${e.status} ${e.statusText}`),this.response=e,Object.setPrototypeOf&&Object.setPrototypeOf(this,I.prototype)}}const S=(e,t)=>a=>a.ok?"boolean"==typeof t?t?a.json():a:"application/json"===e?a.json():a:Promise.reject(new I(a));const _=()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};var P=n.useEffect?F:_;n.useEffect}).call(this,a(20))},49:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}a.d(t,"a",(function(){return n}))},5:function(e,t){e.exports=axios},50:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return b}));var n=a(0),r=a.n(n),l=a(2),s=a(1),i=a(24);const o=r.a.createContext({}),c=Object(l.connect)(({formik:e,prefix:t,disabled:a,initHour:n,initMinute:i})=>(r.a.useEffect(()=>(e.setFieldValue(`${t}.hour`,Object(l.getIn)(e.values,`${t}.hour`,n||"12"),!1),e.setFieldValue(`${t}.minute`,Object(l.getIn)(e.values,`${t}.minute`,i||"00"),!1),()=>{e.setFieldValue(`${t}.hour`,void 0,!1),e.unregisterField(`${t}.hour`),e.setFieldValue(`${t}.minute`,void 0,!1),e.unregisterField(`${t}.minute`)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Field,{component:s.Select,name:`${t}.hour`,inline:"both",title:null,prompt:"Hour",id:`${t}.hour`,className:"half-margin-left qtr-margin-right no-margin-top",disabled:a,width:70},Array.from(new Array(24),(e,t)=>`${t.toString().padStart(2,"0")}`).map(e=>r.a.createElement("option",{id:e,value:e,key:e},e))),":",r.a.createElement(l.Field,{component:s.Select,name:`${t}.minute`,inline:"both",title:null,prompt:"minute",id:`${t}.hour`,className:"qtr-margin-left qtr-margin-right no-margin-top",disabled:a,width:70},Array.from(new Array(60),(e,t)=>`${t.toString().padStart(2,"0")}`).map(e=>r.a.createElement("option",{id:e,value:e,key:e},e)))))),u=Object(l.connect)(({formik:e})=>{const{prefix:t}=r.a.useContext(o);return r.a.useEffect(()=>(e.setFieldValue(`${t}.minutes`,Object(l.getIn)(e.values,`${t}.minutes`,10),!1),()=>{e.setFieldValue(`${t}.minutes`,void 0,!1),e.unregisterField(`${t}.minutes`)}),[]),r.a.createElement("div",{className:"animated fadeIn fast"},r.a.createElement("div",{className:"half-margin-bottom"},"Every",r.a.createElement(l.Field,{component:s.Input,className:"qtr-margin-left qtr-margin-right no-margin-top",name:`${t}.minutes`,type:"number",min:1,max:59,inline:"both",validate:e=>Number.isNaN(parseInt(e,10))?"Required":parseInt(e,10)<1||parseInt(e,10)>59?"Incorrect":void 0}),"minute(s)."))}),m=Object(l.connect)(({formik:e})=>{const{prefix:t}=r.a.useContext(o);return r.a.useEffect(()=>(e.setFieldValue(`${t}.how`,Object(l.getIn)(e.values,`${t}.how`,"every"),!1),e.setFieldValue(`${t}.hours`,Object(l.getIn)(e.values,`${t}.hours`,2),!1),()=>{e.setFieldValue(`${t}.how`,void 0,!1),e.unregisterField(`${t}.how`),e.setFieldValue(`${t}.hours`,void 0,!1),e.unregisterField(`${t}.hours`)}),[]),r.a.createElement("div",{className:"animated fadeIn fast row"},r.a.createElement("div",{className:"flex flex-center-vertical half-margin-bottom col-md-6 col-12"},r.a.createElement(l.Field,{component:s.Radio,label:null,id:"every",inline:!0,name:`${t}.how`,className:"half-margin-right"}),"Every",r.a.createElement(l.Field,{component:s.Input,className:"qtr-margin-left qtr-margin-right no-margin-top",name:`${t}.hours`,type:"number",min:1,max:23,inline:"both",helpBlock:!1,disabled:"every"!==Object(l.getIn)(e.values,`${t}.how`,"every"),validate:e=>Number.isNaN(parseInt(e,10))?"Required":parseInt(e,10)<1||parseInt(e,10)>23?"Incorrect":void 0}),"hour(s)."),r.a.createElement("div",{className:"flex flex-center-vertical col-md-6 col-12"},r.a.createElement(l.Field,{component:s.Radio,label:null,id:"at",inline:!0,name:`${t}.how`,className:"half-margin-right"}),"At",r.a.createElement(c,{prefix:t,disabled:"at"!==Object(l.getIn)(e.values,`${t}.how`,"every")})))}),d=Object(l.connect)(({formik:e})=>{const{prefix:t}=r.a.useContext(o);return r.a.useEffect(()=>(e.setFieldValue(`${t}.days`,Object(l.getIn)(e.values,`${t}.days`,1),!1),()=>{e.setFieldValue(`${t}.days`,void 0,!1),e.unregisterField(`${t}.days`)}),[]),r.a.createElement("div",{className:"animated fadeIn fast"},r.a.createElement("div",{className:"half-margin-bottom"},"Every",r.a.createElement(l.Field,{component:s.Input,className:"qtr-margin-left qtr-margin-right no-margin-top",name:`${t}.days`,type:"number",min:1,max:31,inline:"both",validate:e=>Number.isNaN(parseInt(e,10))?"Required":parseInt(e,10)<1||parseInt(e,10)>31?"Incorrect":void 0}),"day(s). Start at",r.a.createElement(c,{prefix:t})))}),p=Object(l.connect)(({formik:e})=>{const{prefix:t}=r.a.useContext(o);return r.a.useEffect(()=>(e.setFieldValue(`${t}.weekdays`,Object(l.getIn)(e.values,`${t}.weekdays`,{mon:!0}),!1),()=>{e.setFieldValue(`${t}.weekdays`,void 0,!1),e.unregisterField(`${t}.weekdays`)}),[]),r.a.createElement("div",{className:"animated fadeIn faster"},r.a.createElement("div",{className:"half-margin-bottom"},[["Monday","mon"],["Tuesday","tue"],["Wednesday","wed"],["Thursday","thu"],["Friday","fri"],["Saturday","sat"],["Sunday","sun"]].map(a=>r.a.createElement(l.Field,{component:s.Switch,key:a[0],right:a[0],name:`${t}.weekdays.${a[1]}`,validate:()=>{const a=Object(l.getIn)(e.values,`${t}.weekdays`,{});if(!Object.keys(a).length||!Object.keys(a).reduce((e,t)=>e||a[t],!1))return"At least one day must be selected"}}))),Object(l.getIn)(e.errors,`${t}.weekdays`,void 0)?r.a.createElement("div",{className:"half-margin-bottom animated faster fadeIn"},r.a.createElement(s.Alert.Error,null,"At least one day must be selected.")):null,r.a.createElement("div",{className:"flex flex-center-vertical"},"Start at",r.a.createElement(c,{prefix:t})))}),f=Object(l.connect)(({formik:e,prefix:t,title:a})=>(r.a.useEffect(()=>(e.setFieldValue(`${t}.variant`,Object(l.getIn)(e.values,`${t}.variant`,"hours"),!1),()=>{e.setFieldValue(`${t}.variant`,void 0,!1),e.unregisterField(`${t}.variant`)}),[]),r.a.createElement("div",{className:"animated fadeIn fast"},r.a.createElement(o.Provider,{value:{prefix:t}},r.a.createElement(i.a,{variants:[{variant:"minutes",display:"Minutes",component:r.a.createElement(u,null)},{variant:"hours",display:"Hours",component:r.a.createElement(m,null)},{variant:"days",display:"Days",component:r.a.createElement(d,null)},{variant:"weeks",display:"Week days",component:r.a.createElement(p,null)}],varPrefix:t,title:a||"Repeat on:"}))))),h={minutes:e=>`0/${e.minutes} * * * *`,hours:e=>{switch(e.how){case"every":return`0 0/${e.hours} 1/1 * *`;case"at":return`${e.minute} ${e.hour} 1/1 * *`;default:return"* * * * *"}},days:e=>`${e.minute} ${e.hour} 1/${e.days} * *`,weeks:e=>`${e.minute} ${e.hour} * * ${Object.keys(e.weekdays).filter(t=>e.weekdays[t]).map(e=>e.toUpperCase()).join(",")}`,default:()=>""},b=e=>(h[e.variant]||h.default)(e)},51:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=({f:{grouper:e,accent:t}})=>e?r.a.createElement("div",{className:"flex flex-center-vertical grouper"+(t?" grouper--accent":"")},r.a.createElement("span",{className:"grouper__title half-margin-right"},e),r.a.createElement("hr",{className:"flex-fill"})):r.a.createElement("hr",null)},54:function(e,t,a){var n=a(85),r=a(86);e.exports=function(e,t,a){var l=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var i=0;i<16;++i)t[l+i]=s[i];return t||r(s)}},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return s}));const n="animation::done",r=e=>e.dispatchEvent(new Event(n)),l=(e,t=1)=>({value:e?[0,t]:0,easing:"linear",duration:300}),s="spring(1, 150, 10)"},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),l=a(3),s=a.n(l),i=a(1);const o={ACCEPT_ONLY:{Accept:"application/json"},ALL:{Accept:"application/json","Content-Type":"application/json"}},c=({method:e,headers:t,auth:a,data:n,url:l})=>{const s=[`curl -X ${e.toUpperCase()}`];return Object.keys(t).sort().forEach(e=>s.push(`-H "${e}: ${t[e]}"`)),a&&s.push(`-H "Authorization: ${a}"`),n&&s.push(`-d '${JSON.stringify(n)}'`),s.push(l),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("div",null,"Method:"),r.a.createElement(i.Panel,{bordered:!0},e.toUpperCase())),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",null,"URL:"),r.a.createElement(i.Panel,{bordered:!0},l))),r.a.createElement("div",{className:"half-margin-top"},r.a.createElement("div",null,"Headers:"),r.a.createElement(i.Panel,{bordered:!0},r.a.createElement("pre",{style:{wordBreak:"break-word"},className:"text-small"},r.a.createElement("code",null,Object.keys(t).sort().map(e=>`${e}: ${t[e]}`).join("\n"),a?`\nAuthorization: ${a}`:null)))),n?r.a.createElement("div",{className:"half-margin-top"},r.a.createElement("div",null,"Data:"),r.a.createElement(i.Panel,{bordered:!0},r.a.createElement("pre",{style:{wordBreak:"break-word"},className:"text-small"},r.a.createElement("code",null,JSON.stringify(n))))):null,r.a.createElement("div",{className:"half-margin-top"},r.a.createElement("div",null,"cURL example:"),r.a.createElement(i.Panel,{bordered:!0},r.a.createElement("pre",{style:{wordBreak:"break-word"},className:"text-small"},r.a.createElement("code",null,s.join(" \\\n    "))))))};c.propTypes={method:s.a.string,headers:s.a.shape({}),auth:s.a.string,data:s.a.oneOfType(s.a.string,s.a.shape({}),s.a.arrayOf(s.a.any)),url:s.a.string.isRequired},c.defaultProps={method:"GET",headers:o.ACCEPT_ONLY,auth:null,data:null},t.b=c},7:function(e,t){e.exports=ReactDOM},73:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),l=a(4),s=a(1),i=a(35);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const u=e=>{let{value:{val:t,title:a,hint:n},onClick:l}=e,s=c(e.value,["val","title","hint"]);return t&&(s.value=t),r.a.createElement("li",null,r.a.createElement("a",{onClick:e=>l(e,s),title:n||null,dangerouslySetInnerHTML:{__html:a}}))},m=({values:e,onClick:t,renderElement:a})=>(a||(a=u),Object.keys(e).map((n,l)=>{if("object"==typeof e[n]){if(!e[n].type)return r.a.createElement(a,{key:l,value:e[n],onClick:t});{let s=e[n].title;switch(e[n].type){case"header":case"header-full":return r.a.createElement(r.a.Fragment,{key:l},r.a.createElement("a",{className:"dropdown__group-header"},s),e[n].values?r.a.createElement(m,{values:e[n].values,onClick:t,renderElement:a}):null);case"group":return r.a.createElement("div",{className:"submenu",key:l},r.a.createElement("a",null,s),r.a.createElement("div",{className:"dropdown__menu"},e[n].values?r.a.createElement(m,{values:e[n].values,onClick:t,renderElement:a}):null));case"link":case"rest":case"value":return r.a.createElement(a,{key:l,value:e[n],onClick:t})}}}else if("string"==typeof e[n])switch(e[n]){case"divider":return r.a.createElement("div",{key:l,className:"dropdown__divider"});case"loader":return r.a.createElement("a",{key:l},r.a.createElement("span",{className:"icon-animation spin","aria-hidden":"true"}),"Loading...");case"loader-error":return r.a.createElement("a",{key:l,className:"text--danger"},"Got an error on loading data.");case"empty":return r.a.createElement("a",{key:l},"Nothing saved.");default:return r.a.createElement(a,{key:l,value:{value:e[n],title:e[n]},onClick:t})}})),d=e=>{let{title:t,type:a,openTo:n}=e,l=c(e,["title","type","openTo"]);return r.a.createElement(s.Dropdown,{openTo:n||"left",header:t,type:a,className:"btn--link",alwaysClose:!0},r.a.createElement(m,l))},p=e=>{let{title:t,load_values:a,onClick:n,type:u,renderElement:d,openTo:p}=e,f=c(e,["title","load_values","onClick","type","renderElement","openTo"]);const h=Object(l.d)({deferFn:i.a,from:a}),b=r.a.useCallback(()=>h.run(),[h]);return r.a.createElement(s.Dropdown,o({openTo:p||"left",type:u,header:t,onOpen:b,className:"btn--link",alwaysClose:!0},f),r.a.createElement(l.c,{state:h},e=>(s.toast.error("Operation failed",e.message,!1),r.a.createElement(m,{values:["loader-error"]}))),r.a.createElement(l.b,{state:h},r.a.createElement(m,{values:["loader"]})),r.a.createElement(l.a,{state:h},e=>r.a.createElement(m,{values:e,onClick:n,renderElement:d})))}},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a.n(n),l=a(2),s=a(1),i=a(24),o=a(50);const c=Object(l.connect)(({formik:e})=>(r.a.useEffect(()=>(e.setFieldValue("scheduler.job.times",Object(l.getIn)(e.values,"scheduler.job.times",1),!1),e.setFieldValue("scheduler.job.wait",Object(l.getIn)(e.values,"scheduler.job.wait",0),!1),e.setFieldValue("scheduler.job.units",Object(l.getIn)(e.values,"scheduler.job.units","seconds"),!1),()=>{e.setFieldValue("scheduler.job.times",void 0,!1),e.unregisterField("scheduler.job.times"),e.setFieldValue("scheduler.job.wait",void 0,!1),e.unregisterField("scheduler.job.wait"),e.setFieldValue("scheduler.job.units",void 0,!1),e.unregisterField("scheduler.job.units")}),[]),r.a.createElement("div",{className:"animated fadeIn fast"},r.a.createElement("div",{className:"half-margin-bottom"},"Job should be repeated for",r.a.createElement(l.Field,{component:s.Input,className:"qtr-margin-left qtr-margin-right no-margin-top",name:"scheduler.job.times",type:"number",min:-1,max:1e3,inline:"both",validate:e=>Number.isNaN(parseInt(e,10))?"Required":parseInt(e,10)<-1||parseInt(e,10)>1e3?"Incorrect":void 0}),'times. Enter "-1" to repeat until stopped ',r.a.createElement("strong",null,"manually"),"."),r.a.createElement("div",{className:"half-margin-bottom"},"Wait for",r.a.createElement(l.Field,{component:s.Input,className:"qtr-margin-left no-margin-top",name:"scheduler.job.wait",type:"number",min:0,max:1e4,inline:"both",validate:e=>Number.isNaN(parseInt(e,10))?"Required":parseInt(e,10)<0||parseInt(e,10)>1e4?"Incorrect":void 0}),r.a.createElement(l.Field,{component:s.Select,name:"scheduler.job.units",inline:"both",title:null,prompt:"Unit",id:"scheduler.job.units",className:"qtr-margin-left qtr-margin-right no-margin-top"},["seconds","minutes","hours","days"].map(e=>r.a.createElement("option",{id:e,value:e,key:e},e)))," between repeats")))),u=Object(l.connect)(({formik:e})=>(r.a.useEffect(()=>(e.setFieldValue("scheduler.job.variant",Object(l.getIn)(e.values,"scheduler.job.variant","repeat"),!1),()=>{e.setFieldValue("scheduler.job.variant",void 0,!1),e.unregisterField("scheduler.job.variant")}),[]),r.a.createElement("div",{className:"tab animated fadeIn fast active-tab"},r.a.createElement(i.a,{variants:[{variant:"repeat",display:"Repeated once finished",component:r.a.createElement(c,null)},{variant:"cron",display:"By schedule",component:r.a.createElement(o.a,{prefix:"scheduler.job.cron"})}],varPrefix:"scheduler.job",title:"How job should be scheduled:"}))))},8:function(e,t){e.exports=ReactRouterDOM},83:function(e,t,a){"use strict";const n=(e,t,a)=>{e.splice(a<0?e.length+a:a,0,e.splice(t,1)[0])},r=(e,t,a)=>(e=e.slice(),n(e,t,a),e);e.exports=r,e.exports.default=r,e.exports.mutate=n},85:function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},86:function(e,t){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=a;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},9:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return h}));var n=a(13),r=a(12),l=(a(3),a(0)),s=a.n(l),i=a(7),o=a.n(i),c=!1,u=a(14),m="unmounted",d="exited",p="entering",f="entered",h="exiting",b=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var r,l=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?l?(r=d,n.appearStatus=p):r=f:r=t.unmountOnExit||t.mountOnEnter?m:d,n.state={status:r},n.nextCallback=null,n}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===m?{status:d}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==p&&a!==f&&(t=p):a!==p&&a!==f||(t=h)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var a=o.a.findDOMNode(this);t===p?this.performEnter(a,e):this.performExit(a)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:m})},a.performEnter=function(e,t){var a=this,n=this.props.enter,r=this.context?this.context.isMounting:t,l=this.getTimeouts(),s=r?l.appear:l.enter;!t&&!n||c?this.safeSetState({status:f},(function(){a.props.onEntered(e)})):(this.props.onEnter(e,r),this.safeSetState({status:p},(function(){a.props.onEntering(e,r),a.onTransitionEnd(e,s,(function(){a.safeSetState({status:f},(function(){a.props.onEntered(e,r)}))}))})))},a.performExit=function(e){var t=this,a=this.props.exit,n=this.getTimeouts();a&&!c?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:d},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:d},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t,a){this.setNextCallback(a);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===m)return null;var t=this.props,a=t.children,r=Object(n.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof a)return s.a.createElement(u.a.Provider,{value:null},a(e,r));var l=s.a.Children.only(a);return s.a.createElement(u.a.Provider,{value:null},s.a.cloneElement(l,r))},t}(s.a.Component);function E(){}b.contextType=u.a,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:E,onEntering:E,onEntered:E,onExit:E,onExiting:E,onExited:E},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;t.d=b}});