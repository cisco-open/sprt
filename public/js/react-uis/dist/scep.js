!function(e){function t(t){for(var a,r,s=t[0],l=t[1],i=0,c=[];i<s.length;i++)r=s[i],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&c.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(o&&o(t);c.length;)c.shift()()}var a={},n={9:0};function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=s);var l,i=document.createElement("script");i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.src=function(e){return r.p+""+({}[e]||e)+".js"}(e);var o=new Error;l=function(t){i.onerror=i.onload=null,clearTimeout(c);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,a[1](o)}n[e]=void 0}};var c=setTimeout((function(){l({type:"timeout",target:i})}),12e4);i.onerror=i.onload=l,document.head.appendChild(i)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/js/react-uis/dist/",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var o=l;r(r.s=200)}({0:function(e,t){e.exports=React},1:function(e,t){e.exports=ReactCUI},10:function(e,t){e.exports=anime},12:function(e,t,a){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.d(t,"a",(function(){return n}))},126:function(e,t,a){var n,r,s;r=[],void 0===(s="function"==typeof(n=function(){return function e(t,a,n){var r,s,l=window,i="application/octet-stream",o=n||i,c=t,u=!a&&!n&&c,d=document.createElement("a"),p=function(e){return String(e)},m=l.Blob||l.MozBlob||l.WebKitBlob||p,f=a||"download";if(m=m.call?m.bind(l):Blob,"true"===String(this)&&(o=(c=[c,o])[0],c=c[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var h=new XMLHttpRequest;return h.open("GET",u,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,f,i)},setTimeout((function(){h.send()}),0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&m!==p))return navigator.msSaveBlob?navigator.msSaveBlob(E(c),f):v(c);o=(c=E(c)).type||i}else if(/([\x80-\xff])/.test(c)){for(var b=0,g=new Uint8Array(c.length),y=g.length;b<y;++b)g[b]=c.charCodeAt(b);c=new m([g],{type:o})}function E(e){for(var t=e.split(/[:;,]/),a=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),r=n.length,s=0,l=new Uint8Array(r);s<r;++s)l[s]=n.charCodeAt(s);return new m([l],{type:a})}function v(e,t){if("download"in d)return d.href=e,d.setAttribute("download",f),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){l.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(r=c instanceof m?c:new m([c],{type:o}),navigator.msSaveBlob)return navigator.msSaveBlob(r,f);if(l.URL)v(l.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===p)try{return v("data:"+o+";base64,"+l.btoa(r))}catch(e){return v("data:"+o+","+encodeURIComponent(r))}(s=new FileReader).onload=function(e){v(this.result)},s.readAsDataURL(r)}return!0}})?n.apply(t,r):n)||(e.exports=s)},13:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}a.d(t,"a",(function(){return n}))},14:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=r.a.createContext(null)},16:function(e,t){e.exports=ReactModal},17:function(e,t,a){"use strict";var n=a(0),r=a(7);var s=function(e){const t=Object(n.useRef)(null);return Object(n.useEffect)((function(){const a=document.querySelector(`#${e}`),n=a||function(e){const t=document.createElement("div");return t.setAttribute("id",e),t}(e);var r;return a||(r=n,document.body.insertBefore(r,document.body.lastElementChild.nextElementSibling)),n.appendChild(t.current),function(){t.current.remove(),-1===n.childNodes.length&&n.remove()}}),[]),t.current||(t.current=document.createElement("div")),t.current};t.a=({id:e,children:t})=>{const a=s(e);return Object(r.createPortal)(t,a)}},18:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return h}));var n=a(0),r=a.n(n),s=a(19),l=a(10),i=a.n(l),o=a(9),c=a(6);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const p=e=>i()({targets:e,opacity:Object(c.b)(!1),complete:()=>{Object(c.d)(e)},easing:c.c}),m=(e,t)=>e.addEventListener(c.a,t);t.c=e=>{let{endOpacity:t}=e,a=d(e,["endOpacity"]);return r.a.createElement(o.d,u({timeout:300,onEnter:e=>((e,t)=>i()({targets:e,opacity:Object(c.b)(!0,t),complete:()=>{Object(c.d)(e)},easing:c.c}))(e,t||1),onExit:p,addEndListener:m},a))};const f=e=>r.a.createElement(s.a,u({timeout:300,classNames:{appear:"show",appearActive:"show animated fastest fadeIn",appearDone:"show",enter:"show",enterActive:"show animated fastest fadeIn",enterDone:"show",exit:"show",exitActive:"show animated fastest fadeOut",exitDone:""},appear:!0,enter:!0,exit:!0},e)),h=e=>r.a.createElement(s.a,u({mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:{appear:"animated fadeIn fastest",appearActive:"animated fadeIn fastest",appearDone:"animated",enter:"animated fadeIn fastest",enterActive:"animated fadeIn fastest",enterDone:"animated",exit:"fanimated fadeOut fastest",exitActive:"animated fadeOut fastest",exitDone:"hide"},timeout:300},e))},19:function(e,t,a){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var r=a(13),s=a(12);a(3);function l(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var i=a(0),o=a.n(i),c=a(9),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=l(a.className,n):a.setAttribute("class",l(a.className&&a.className.baseVal||"",n)));var a,n}))},d=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){t.removeClasses(e,"exit"),t.addClass(e,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=a?"appear":"enter";t.addClass(e,n,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=a?"appear":"enter";t.removeClasses(e,n),t.addClass(e,n,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,r=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:r,activeClassName:n?r+"-active":a[e+"Active"],doneClassName:n?r+"-done":a[e+"Done"]}},t}Object(s.a)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"];"appear"===t&&"done"===a&&(n+=" "+this.getClassNames("enter").doneClassName),"active"===a&&e&&e.scrollTop,this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n)},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,r=a.active,s=a.done;this.appliedClasses[t]={},n&&u(e,n),r&&u(e,r),s&&u(e,s)},a.render=function(){var e=this.props,t=(e.classNames,Object(r.a)(e,["classNames"]));return o.a.createElement(c.d,n({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.a.Component);d.defaultProps={classNames:""},d.propTypes={};t.a=d},2:function(e,t){e.exports=formik},20:function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},200:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),l=a.n(s),i=a(16),o=a.n(i),c=a(8),u=a(17),d=a(76),p=a(1),m=a(4),f=a(26);const h=r.a.createContext(),b=r.a.createContext(),g=e=>(t,{type:a,payload:n})=>{switch(a){case e.add:return[...t,...Array.isArray(n)?n:[n]];case e.new:return n;case e.del:return t.filter(e=>n!==e.id);case e.upd:return t.map(e=>e.id===n.id?n:e);default:return t}};var y=a(2),E=a(42),v=a(62),O=a(23);const w=Object(E.a)(()=>a.e(18).then(a.bind(null,550)),{fallback:r.a.createElement("div",{className:"flex-center"},r.a.createElement(p.Spinner,{text:"Fetching data from server..."}))}),j=async({serverId:e})=>null!=e?Object(f.e)(e):null,C=()=>{const e=Object(c.useHistory)();return r.a.createElement(p.Button.Light,{onClick:()=>e.push("/server/new/")},r.a.createElement("span",{className:"icon-add-outline half-margin-right"}),r.a.createElement("span",null,"Add SCEP server"))},x=()=>{const{selected:e}=r.a.useContext(h),t=Object(c.useHistory)();return r.a.createElement(p.Button.Light,{disabled:!Array.isArray(e)||1!==e.length,onClick:()=>t.push(`/server/${Array.isArray(e)?e[0]:"null"}/`)},r.a.createElement("span",{className:"icon-edit half-margin-right"}),r.a.createElement("span",null,"Edit"))},k={certificates:[],name:"",signer:"",href:""},S=()=>{const e=Object(c.useRouteMatch)("/server/:id/"),t=Object(c.useHistory)(),a=r.a.useCallback(()=>t.push("/"),[]),[n,s]=r.a.useState(k),{newServers:l,clearSelection:i}=r.a.useContext(h),o=r.a.useMemo(()=>e?e.params.id:null,[e]),u=Object(m.d)({promiseFn:j,serverId:o,watch:o,onResolve:e=>{if(!e||!e.result)return void s(k);const{result:t}=e;s({certificates:t.ca_certificates,name:t.name,signer:t.signer||(Array.isArray(t.signers)?t.signers[0].id:""),href:t.url,canSave:!!(t.ca_certificates.length&&t.signer&&t.url)})}}),d=r.a.useCallback(async({href:e,name:t,certificates:n,signer:r})=>{try{const s=await Object(f.j)(e,t,n.reduce((e,t)=>[...e,t.pem],[]),r,0,o);if(Object(O.a)(s))return p.toast.success("",o&&"new"!==o?"Server updated":"Server saved"),i(),l(s.scep||[]),a(),!0;Object(O.b)(s.error)}catch(e){Object(O.c)("Something went wrong",e)}return!1},[a,o,l,i]);return r.a.createElement(p.Modal,{closeIcon:!0,closeHandle:a,isOpen:!!e,size:"large",title:"Edit SCEP server"},r.a.createElement(y.Formik,{initialValues:n,onSubmit:d,enableReinitialize:!0},({isSubmitting:e,isValid:t,submitForm:n,values:{canSave:s}})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(p.ModalBody,{className:u.isLoading?"":"text-left"},r.a.createElement(v.a,null,r.a.createElement(m.b,{state:u},r.a.createElement("div",{className:"flex-center"},r.a.createElement(p.Spinner,{text:"Fetching data from server..."}))),r.a.createElement(m.c,{state:u},e=>r.a.createElement(p.Alert.Error,null,"Something went wrong: ",e.message)),r.a.createElement(m.a,{state:u},e=>e&&e.result?r.a.createElement(w,{data:e}):null))),r.a.createElement(p.ModalFooter,null,r.a.createElement(p.Button.Light,{onClick:a},"Close"),r.a.createElement(p.DisplayIf,{condition:u.isFulfilled},r.a.createElement(p.Button.Success,{onClick:n,disabled:e||!t||!s},"Save",r.a.createElement(p.DisplayIf,{condition:e},r.a.createElement("span",{className:"icon-animation spin half-margin-left"}))))))))},N=()=>{const{selected:e,servers:t,newServers:a,clearSelection:n}=r.a.useContext(h),s=r.a.useCallback(e=>{Object(p.confirmation)(r.a.createElement(r.a.Fragment,null,"Are you sure you would like to delete ",Array.isArray(e)?1===e.length?r.a.createElement("span",{className:"text-bold"},t.find(t=>t.id===e[0]).name):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-bold"},e.length)," servers"):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-bold"},e)," servers"),"?"),async()=>{try{const t=await Object(f.a)(e);if(Object(O.a)(t))return p.toast.success("","Server deleted"),n(),a(t.scep||[]),!0;Object(O.b)(t.error)}catch(e){Object(O.c)("Something went wrong",e)}return!1},"danger")},[t,a,n]);return r.a.createElement(p.Dropdown,{tail:!0,className:"btn--light",header:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"icon-trash half-margin-right"}),r.a.createElement("span",{className:"btn--label"},"Remove")),alwaysClose:!0,openTo:"left"},r.a.createElement("a",{className:"panel",disabled:!Array.isArray(e)||1!==e.length,onClick:()=>s(e)},"Remove selected SCEP servers"),r.a.createElement("a",{className:"panel",onClick:()=>s("all")},"Remove all SCEP servers"))};N.propTypes={},N.defaultProps={};const R=()=>r.a.createElement("div",{className:"panel position-sticky actions no-padding-left no-padding-right"},r.a.createElement("div",{className:"flex-center-vertical"},r.a.createElement(p.ButtonGroup,{square:!0},r.a.createElement(C,null)),r.a.createElement("div",{className:"divider"}),r.a.createElement(p.ButtonGroup,{square:!0},r.a.createElement(x,null)),r.a.createElement("div",{className:"divider"}),r.a.createElement(p.ButtonGroup,{square:!0},r.a.createElement(N,null))),r.a.createElement(S,null));R.propTypes={},R.defaultProps={};var A=R,P=a(3),F=a.n(P);const T=({id:e,selected:t,select:a,deselect:n})=>r.a.createElement(p.Checkbox,{field:{onChange:()=>t.includes(e)?n(e):a(e),name:`scep-server-${e}`},form:{touched:{},error:{},values:{[`scep-server-${e}`]:t.includes(e)}}});T.propTypes={id:F.a.oneOfType([F.a.number,F.a.string]).isRequired,selected:F.a.arrayOf(F.a.any).isRequired,select:F.a.func.isRequired,deselect:F.a.func.isRequired};const $=()=>r.a.createElement(h.Consumer,null,({selectAll:e,clearSelection:t,servers:a,selected:n})=>r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"checkbox-only"},r.a.createElement(p.Checkbox,{field:{onChange:a=>a.target.checked?e():t(),name:"scep-servers-all"},form:{touched:{},error:{},values:{"scep-servers-all":!a.filter(e=>!n.includes(e.id)).length}}})),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"URL")))),_=({state:e})=>{const{servers:t,select:a,deselect:n,selected:s}=r.a.useContext(h);return e.isLoading?r.a.createElement("div",{className:"flex-center base-margin-top dbl-margin-bottom"},r.a.createElement(p.Spinner,null)):e.isRejected?r.a.createElement("div",{className:"flex-center base-margin-top dbl-margin-bottom"},r.a.createElement(p.Alert.Error,null,"Something went wrong.")):Array.isArray(t)&&t.length?r.a.createElement("div",{className:"responsive-table base-margin-top dbl-margin-bottom"},r.a.createElement("table",{className:"table table--compressed table--bordered table--highlight table--nostripes table--wrap table--sortable"},r.a.createElement($,null),r.a.createElement("tbody",null,t.map(e=>r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(T,{id:e.id,selected:s,select:a,deselect:n})),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.url)))))):r.a.createElement("div",{className:"flex-center base-margin-top dbl-margin-bottom"},"No servers saved.")};_.propTypes={state:F.a.shape({isLoading:F.a.bool,isResolved:F.a.bool,isRejected:F.a.bool}).isRequired},_.defaultProps={};var D=_;const L={new:"scep_servers/new",add:"scep_servers/add",del:"scep_servers/del",upd:"scep_servers/update"},M=()=>{const[e,t]=r.a.useReducer(g(L),[]),[a,n]=r.a.useState([]),s=r.a.useCallback(e=>n(t=>t.includes(e)?t:[...t,e]),[]),l=r.a.useCallback(e=>n(t=>t.includes(e)?t.filter(t=>t!==e):t),[]),i=r.a.useCallback(()=>n([]),[]),o=r.a.useCallback(()=>n(()=>e.reduce((e,t)=>[...e,t.id],[])),[e]),c=r.a.useCallback(e=>t({type:L.new,payload:e}),[]),u=r.a.useCallback(e=>{t({type:L.add,payload:e})},[]),d=r.a.useCallback(e=>{t({type:L.del,payload:e})},[]),p=r.a.useCallback(e=>{t({type:L.upd,payload:e})},[]),b=Object(m.d)({promiseFn:f.f,onResolve:e=>c(e&&e.scep?e.scep:[])});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"display-3"},"SCEP Servers"),r.a.createElement(h.Provider,{value:{servers:e,selected:a,newServers:c,add:u,delete:d,update:p,reload:b.reload,select:s,deselect:l,clearSelection:i,selectAll:o}},r.a.createElement(A,null),r.a.createElement(D,{state:b})))};M.propTypes={},M.defaultProps={};var I=M;const q=()=>r.a.createElement(b.Consumer,null,({selectAll:e,clearSelection:t,signers:a,selected:n})=>r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"checkbox-only"},r.a.createElement(p.Checkbox,{field:{onChange:a=>a.target.checked?e():t(),name:"scep-signers-all"},form:{touched:{},error:{},values:{"scep-signers-all":!a.filter(e=>!n.includes(e.id)).length}}})),r.a.createElement("th",null,"Friendly Name"),r.a.createElement("th",null,"Subject"),r.a.createElement("th",null,"Valid from"),r.a.createElement("th",null,"Valid till")))),B=({state:e})=>{const{signers:t,select:a,deselect:n,selected:s}=r.a.useContext(b);return e.isLoading?r.a.createElement("div",{className:"flex-center base-margin-top dbl-margin-bottom"},r.a.createElement(p.Spinner,null)):e.isRejected?r.a.createElement("div",{className:"flex-center base-margin-top dbl-margin-bottom"},r.a.createElement(p.Alert.Error,null,"Something went wrong.")):Array.isArray(t)&&t.length?r.a.createElement("div",{className:"responsive-table base-margin-top dbl-margin-bottom"},r.a.createElement("table",{className:"table table--compressed table--bordered table--highlight table--nostripes table--wrap table--sortable"},r.a.createElement(q,null),r.a.createElement("tbody",null,t.map(e=>r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(T,{id:e.id,selected:s,select:a,deselect:n})),r.a.createElement("td",null,e.friendly_name),r.a.createElement("td",null,e.subject),r.a.createElement("td",null,e.not_before),r.a.createElement("td",null,e.not_after)))))):r.a.createElement("div",{className:"flex-center base-margin-top dbl-margin-bottom"},"No signing certificates found.")};B.propTypes={state:F.a.shape({isLoading:F.a.bool,isResolved:F.a.bool,isRejected:F.a.bool}).isRequired},B.defaultProps={};var U=B;const V=({isOpen:e,closeHandle:t})=>{const{newSigners:a,clearSelection:n}=r.a.useContext(b),s=r.a.useCallback(async e=>{const r=new FormData;Object.keys(e).forEach(t=>r.append(t,e[t]));try{const e=await Object(f.m)(r);if(Object(O.a)(e))return p.toast.success("","Certificate uploaded"),a(e.signers),n(),t(),!0;Object(O.b)(e.error)}catch(e){Object(O.c)("Something went wrong",e)}return!1},[n,a,t]);return r.a.createElement(p.Modal,{closeIcon:!0,closeHandle:t,isOpen:e,title:"Add signing certificate"},r.a.createElement(y.Formik,{initialValues:{"signer-friendly-name":"",certificate:"",pvk:"","pvk-password":""},onSubmit:s,enableReinitialize:!0},({isSubmitting:e,isValid:a,submitForm:n,setFieldValue:s})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(p.ModalBody,null,r.a.createElement(y.Field,{component:p.Input,label:"Friendly name",name:"signer-friendly-name"}),r.a.createElement(y.Field,{component:p.Input,label:r.a.createElement(r.a.Fragment,null,"Certificate ",r.a.createElement("span",{className:"text-xsmall"},"(PEM or DER)")),type:"file",name:"certificateUncontrolled",onChange:e=>{s("certificate",e.currentTarget.files[0])}}),r.a.createElement(y.Field,{component:p.Input,label:r.a.createElement(r.a.Fragment,null,"Private Key ",r.a.createElement("span",{className:"text-xsmall"},"(PEM or DER)")),type:"file",name:"pvkUncontrolled",onChange:e=>{s("pvk",e.currentTarget.files[0])}}),r.a.createElement(y.Field,{component:p.Input,label:"Passphrase",name:"pvk-password"})),r.a.createElement(p.ModalFooter,null,r.a.createElement(p.Button.Light,{onClick:t},"Close"),r.a.createElement(p.Button.Success,{onClick:n,disabled:e||!a},"Save",r.a.createElement(p.DisplayIf,{condition:e},r.a.createElement("span",{className:"icon-animation spin half-margin-left"})))))))};V.propTypes={isOpen:F.a.bool.isRequired,closeHandle:F.a.func.isRequired};const H=()=>{const[e,t]=r.a.useState(!1),a=r.a.useCallback(()=>t(!0),[]),n=r.a.useCallback(()=>t(!1),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Button.Light,{onClick:a},r.a.createElement("span",{className:"icon-add-outline half-margin-right"}),r.a.createElement("span",null,"Add signing certificate")),r.a.createElement(V,{isOpen:e,closeHandle:n}))};H.propTypes={},H.defaultProps={};var K=H;const G=()=>{const{selected:e,signers:t,newSigners:a,clearSelection:n}=r.a.useContext(b),s=r.a.useCallback(e=>{Object(p.confirmation)(r.a.createElement(r.a.Fragment,null,"Are you sure you would like to delete ",Array.isArray(e)?1===e.length?r.a.createElement("span",{className:"text-bold"},t.find(t=>t.id===e[0]).friendly_name):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-bold"},e.length)," certificates"):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-bold"},e)," certificates"),"?"),async()=>{try{const t=await Object(f.b)(e);if(Object(O.a)(t))return p.toast.success("","Server deleted"),n(),a(t.signers||[]),!0;Object(O.b)(t.error)}catch(e){Object(O.c)("Something went wrong",e)}return!1},"danger")},[t,a,n]);return r.a.createElement(p.Dropdown,{tail:!0,className:"btn--light",header:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"icon-trash half-margin-right"}),r.a.createElement("span",{className:"btn--label"},"Remove")),alwaysClose:!0,openTo:"left"},r.a.createElement("a",{className:"panel",disabled:!Array.isArray(e)||1!==e.length,onClick:()=>s(e)},"Remove selected certificates"),r.a.createElement("a",{className:"panel",onClick:()=>s("all")},"Remove all certificates"))};G.propTypes={},G.defaultProps={};var z=G,J=a(126),W=a.n(J),Y=a(18);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ee=Object(E.a)(()=>a.e(20).then(a.bind(null,320)),{fallback:r.a.createElement("div",{className:"flex-center"},r.a.createElement(p.Spinner,{text:"Fetching data from server..."}))}),te=()=>{const{selected:e,signers:t,clearSelection:a,update:n}=r.a.useContext(b),s=r.a.useMemo(()=>Array.isArray(e)&&1===e.length?e[0]:null,[e]),l=r.a.useCallback(()=>{if(!s)return;const e=t.find(e=>e.id===s);Object(p.prompt)("Update certificate","Friendly Name",async t=>{try{const r=await Object(f.h)(s,t);if(Object(O.a)(r))return p.toast.success("","Certificate renamed"),a(),n(Q({},e,{friendly_name:t})),!0;Object(O.b)(r.error)}catch(e){Object(O.c)("Something went wrong",e)}return!1},e.friendly_name,"text","If empty, Subject will be used as Friendly Name")},[s,t]);return r.a.createElement(p.Button.Light,{disabled:!Array.isArray(e)||1!==e.length,onClick:l},r.a.createElement("span",{className:"icon-edit half-margin-right"}),r.a.createElement("span",null,"Rename"))};te.propTypes={},te.defaultProps={};const ae=()=>{const e=Object(c.useRouteMatch)("/signer/details/:id/"),t=Object(c.useHistory)(),a=r.a.useCallback(()=>t.push("/"),[]),n=r.a.useMemo(()=>e?e.params.id:null,[e]),s=Object(m.d)({promiseFn:f.d,certId:n,certType:"signer",watch:n});return r.a.createElement(p.Modal,{closeIcon:!0,closeHandle:a,isOpen:!!e,size:"large",title:"Certificate details"},r.a.createElement(p.ModalBody,{className:s.isFulfilled?"text-left":""},r.a.createElement(v.a,null,r.a.createElement(m.b,{state:s},r.a.createElement("div",{className:"flex-center"},r.a.createElement(p.Spinner,{text:"Fetching data from server..."}))),r.a.createElement(m.c,{state:s},e=>r.a.createElement(p.Alert.Error,null,"Something went wrong: ",e.message)),r.a.createElement(m.a,{state:s},e=>e&&e.result&&Array.isArray(e.result)?r.a.createElement(ee,{chain:e.result}):null))),r.a.createElement(p.ModalFooter,null,r.a.createElement(p.Button.Light,{onClick:a},"OK")))},ne=()=>{const{selected:e}=r.a.useContext(b),t=Object(c.useHistory)(),a=r.a.useCallback(()=>{Array.isArray(e)&&t.push(`/signer/details/${e[0]}/`)},[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Button.Light,{disabled:!Array.isArray(e)||1!==e.length,onClick:a},r.a.createElement("span",{className:"icon-eye half-margin-right"}),r.a.createElement("span",null,"Details")),r.a.createElement(ae,null))};ne.propTypes={},ne.defaultProps={};const re=({isOpen:e,closeHandle:t,what:a})=>{const n=r.a.useCallback(async e=>{try{const t=await Object(f.c)(Q({},e,{"full-chain":e["full-chain"]?1:0})),a=t.headers["content-disposition"];let n="certificates";if(a){const e=a.match(/filename="(.+)"/);2===e.length&&(n=e[1])}const r=t.headers["content-type"];return W()(t.data,n,r),!0}catch(e){Object(O.c)("Something went wrong",e)}return!0},[]);return r.a.createElement(p.Modal,{closeIcon:!0,closeHandle:t,isOpen:e,title:"Export parameters"},r.a.createElement(y.Formik,{initialValues:{how:"certificates-and-keys","export-format":"pem","full-chain":!0,password:"",type:"signer",what:a},onSubmit:n,enableReinitialize:!0},({submitForm:e,isSubmitting:a,isValid:n,values:{how:s}})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(p.ModalBody,{className:"text-left"},r.a.createElement("div",{className:"separate"},r.a.createElement(p.Radios,{values:[{value:"certificates",label:"Export Certificates Only"},{value:"certificates-and-keys",label:"Export Certificates and Private Keys"}],name:"how",inline:!0})),r.a.createElement(Y.a,{in:"certificates-and-keys"===s},r.a.createElement(y.Field,{className:"fadeIn animated fastest",component:p.Input,name:"password",label:r.a.createElement(r.a.Fragment,null,"Password ",r.a.createElement("span",{className:"text-small"},"(optional)"))})),r.a.createElement(y.Field,{component:p.Switch,name:"full-chain",right:"Export with Full Chain"})),r.a.createElement(p.ModalFooter,null,r.a.createElement(p.Button.Light,{onClick:t},"Close"),r.a.createElement(p.Button.Success,{onClick:e,disabled:a||!n},"Export",r.a.createElement(p.DisplayIf,{condition:a},r.a.createElement("span",{className:"icon-animation qtr-margin-left spin"})))))))};re.propTypes={isOpen:F.a.bool.isRequired,closeHandle:F.a.func.isRequired,what:F.a.oneOfType([F.a.string,F.a.array]).isRequired};const se=()=>{const{selected:e}=r.a.useContext(b),[t,a]=r.a.useState(!1),n=r.a.useCallback(()=>a(!0),[]),s=r.a.useCallback(()=>a(!1),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Button.Light,{disabled:!Array.isArray(e)||!e.length,onClick:n},r.a.createElement("span",{className:"icon-export half-margin-right"}),r.a.createElement("span",null,"Export")),r.a.createElement(re,{isOpen:t,closeHandle:s,what:e}))};se.propTypes={},se.defaultProps={};const le=()=>r.a.createElement("div",{className:"panel position-sticky actions no-padding-left no-padding-right"},r.a.createElement("div",{className:"flex-center-vertical"},r.a.createElement(p.ButtonGroup,{square:!0},r.a.createElement(K,null)),r.a.createElement("div",{className:"divider"}),r.a.createElement(p.ButtonGroup,{square:!0},r.a.createElement(te,null),r.a.createElement(ne,null),r.a.createElement(se,null)),r.a.createElement("div",{className:"divider"}),r.a.createElement(p.ButtonGroup,{square:!0},r.a.createElement(z,null))));le.propTypes={},le.defaultProps={};var ie=le;const oe={new:"signers/new",add:"signers/add",del:"signers/del",upd:"signers/update"},ce=()=>{const[e,t]=r.a.useReducer(g(oe),[]),[a,n]=r.a.useState([]),s=r.a.useCallback(e=>n(t=>t.includes(e)?t:[...t,e]),[]),l=r.a.useCallback(e=>n(t=>t.includes(e)?t.filter(t=>t!==e):t),[]),i=r.a.useCallback(()=>n([]),[]),o=r.a.useCallback(()=>n(()=>e.reduce((e,t)=>[...e,t.id],[])),[e]),c=r.a.useCallback(e=>t({type:oe.new,payload:e}),[]),u=r.a.useCallback(e=>{t({type:oe.add,payload:e})},[]),d=r.a.useCallback(e=>{t({type:oe.del,payload:e})},[]),p=r.a.useCallback(e=>{t({type:oe.upd,payload:e})},[]),h=Object(m.d)({promiseFn:f.g,onResolve:e=>c(e&&e.signers?e.signers:[])});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"display-3 no-margin"},"Signing Certificates"),r.a.createElement("h5",{className:"base-margin-bottom subheading"},"Certificates used to sign CSRs sent to a SCEP server"),r.a.createElement(b.Provider,{value:{signers:e,selected:a,add:u,delete:d,update:p,reload:h.reload,select:s,deselect:l,selectAll:o,clearSelection:i,newSigners:c}},r.a.createElement(ie,null),r.a.createElement(U,{state:h})))};ce.propTypes={},ce.defaultProps={};var ue=ce;o.a.setAppElement("body");l.a.render(r.a.createElement(()=>r.a.createElement(d.a,null,r.a.createElement(c.BrowserRouter,{basename:"/cert/scep"},r.a.createElement(I,null),r.a.createElement(ue,null)),r.a.createElement(u.a,{id:"toast-portal"},r.a.createElement(p.ToastContainer,null)),r.a.createElement(p.DynamicModal,null)),null),document.getElementById("react-app"))},23:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),s=a(1);const l=(e,t=!1)=>{t&&console.error(t),Object(s.notification)("Error",r.a.createElement(s.Alert.Error,{className:"text-left"},e))},i=e=>{const t=(e=>{try{return JSON.parse(e)}catch(t){return e}})(e);"object"==typeof t&&t.messageString?l(t.messageString):l(t)},o=e=>"object"==typeof e&&"success"===e.state},26:function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"l",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"g",(function(){return g})),a.d(t,"i",(function(){return E})),a.d(t,"h",(function(){return v})),a.d(t,"d",(function(){return O})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return j})),a.d(t,"m",(function(){return C}));var n=a(5),r=a.n(n);const s={Accept:"application/json"},l={Accept:"application/json","Content-Type":"application/json"},i=async()=>{return(await r.a.post(globals.rest.cert.scep,{scep_servers:1},{headers:l})).data},o=async e=>{return(await r.a.get(`${globals.rest.cert.scep}${e}/`,{headers:s})).data},c=async(e,t,a,n,s,i)=>{return(await r.a.put(`${globals.rest.cert.scep}${i&&"new"!==i?`${i}/`:""}`,{href:e,name:t,certificates:a,signer:n,overwrite:s},{headers:l})).data},u=async(e,t)=>{return(await r.a.post(`${globals.rest.cert.scep}test-scep/`,{name:e,href:t},{headers:l})).data},d=async(e,t,a,n,s)=>{const i={name:e,href:t,signer:a,certificates:n};return s&&(i.csr=s),(await r.a.post(`${globals.rest.cert.scep}test-scep-enroll/`,i,{headers:l})).data},p=async e=>{return(await r.a.delete(globals.rest.cert.scep,{data:{what:Array.isArray(e)?e:[e]},headers:l})).data};var m=a(40);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const g=async()=>{return(await r.a.post(globals.rest.cert.scep,{signers:1},{headers:l})).data},y={identity:"/cert/identity/",signer:"/cert/scep/signer/",trusted:async(e,t)=>{return(await r.a.post(globals.rest.cert.trusted,{format:"text",trusted:t},{headers:l})).data}},E=async(e,t,a)=>{if(!y[a])throw new Error(`Unknown certificate type: ${a}`);return y[a](e,t)},v=async(e,t)=>{return(await r.a.patch(`${globals.rest.cert.attribute}friendly_name/${e}/`,{value:t},{headers:l})).data},O=async({certId:e,certType:t})=>Object(m.e)([{certificate:e,type:t}]),w=async e=>{return await r.a.post(`${globals.rest.cert.base}export/`,e,{headers:l})},j=async e=>{return(await r.a.delete(`${globals.rest.cert.scep}signer/`,{data:{what:e},headers:l})).data},C=async e=>{return(await r.a.post(`${globals.rest.cert.scep}signer/`,e,{headers:h({},s,{headers:{"Content-Type":"multipart/form-data"}})})).data}},3:function(e,t){e.exports=PropTypes},37:function(e,t,a){"use strict";var n=a(56),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function o(e){return n.isMemo(e)?l:i[e.$$typeof]||r}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=l;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,a,n){if("string"!=typeof a){if(f){var r=m(a);r&&r!==f&&e(t,r,n)}var l=u(a);d&&(l=l.concat(d(a)));for(var i=o(t),h=o(a),b=0;b<l.length;++b){var g=l[b];if(!(s[g]||n&&n[g]||h&&h[g]||i&&i[g])){var y=p(a,g);try{c(t,g,y)}catch(e){}}}}return t}},4:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return F}));var n=a(0),r=a.n(n);const s=(()=>"object"==typeof self&&self.self===self?self:"object"==typeof e&&e.global===e?e:"object"==typeof e&&e.GLOBAL===e?e:{})();s.__REACT_ASYNC__=s.__REACT_ASYNC__||{};const l=()=>{};class i{constructor(){this.abort=l,this.signal={}}}let o;try{o=a(3)}catch(e){}const c=o&&o.oneOfType([o.node,o.func]),u=o&&o.shape({initialValue:o.any,data:o.any,error:o.instanceOf(Error),value:o.any,startedAt:o.instanceOf(Date),finishedAt:o.instanceOf(Date),status:o.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:o.bool,isPending:o.bool,isLoading:o.bool,isFulfilled:o.bool,isResolved:o.bool,isRejected:o.bool,isSettled:o.bool,counter:o.number,promise:o.instanceOf(Promise),run:o.func,reload:o.func,cancel:o.func,setData:o.func,setError:o.func});var d=o&&{Async:{children:c,promise:o.instanceOf(Promise),promiseFn:o.func,deferFn:o.func,watch:o.any,watchFn:o.func,initialValue:o.any,onResolve:o.func,onReject:o.func,reducer:o.func,dispatcher:o.func,debugLabel:o.string,suspense:o.bool},Initial:{children:c,state:u.isRequired,persist:o.bool},Pending:{children:c,state:u.isRequired,initial:o.bool},Fulfilled:{children:c,state:u.isRequired,persist:o.bool},Rejected:{children:c,state:u.isRequired,persist:o.bool},Settled:{children:c,state:u.isRequired,persist:o.bool}};const p=(e,...t)=>{if("function"==typeof e){return e(...t)}return e},m=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isInitial||t&&!a.data?p(e,a):null),f=({children:e,initial:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,!a.isPending||t&&a.value?null:p(e,a)),h=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isFulfilled||t&&a.data?p(e,a.data,a):null),b=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isRejected||t&&a.error?p(e,a.error,a):null),g=({children:e,persist:t,state:a={}})=>r.a.createElement(r.a.Fragment,null,a.isSettled||t&&a.value?p(e,a):null);var y;d&&(m.propTypes=d.Initial,f.propTypes=d.Pending,h.propTypes=d.Fulfilled,b.propTypes=d.Rejected,g.propTypes=d.Settled),function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"}(y||(y={}));const E=(e,t)=>e instanceof Error?y.rejected:void 0!==e?y.fulfilled:t?y.pending:y.initial,v=e=>e instanceof Error?y.rejected:void 0!==e?y.fulfilled:y.initial,O=e=>({status:e,isInitial:e===y.initial,isPending:e===y.pending,isLoading:e===y.pending,isFulfilled:e===y.fulfilled,isResolved:e===y.fulfilled,isRejected:e===y.rejected,isSettled:e===y.fulfilled||e===y.rejected}),w=function(){};Object.setPrototypeOf?Object.setPrototypeOf(w,Promise):w.__proto__=Promise,w.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const j=new w;var C;!function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"}(C||(C={}));const x=({initialValue:e,promise:t,promiseFn:a})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||a?new Date:void 0,finishedAt:e?new Date:void 0,...O(E(e,t||a)),counter:0,promise:j}),k=(e,t)=>{switch(t.type){case C.start:return{...e,startedAt:new Date,finishedAt:void 0,...O(y.pending),counter:t.meta.counter,promise:t.meta.promise};case C.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...O(v(e.error||e.data)),counter:t.meta.counter,promise:t.meta.promise};case C.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...O(y.fulfilled),promise:t.meta.promise};case C.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...O(y.rejected),promise:t.meta.promise};default:return e}},S=e=>(t,...a)=>{e(t,...a),t.type===C.start&&"function"==typeof t.payload&&t.payload()};!function(e={},t="Async"){const{Consumer:a,Provider:n}=r.a.createContext(void 0);function l({children:e}){return r.a.createElement(a,null,t=>{if(!t)throw new Error("this component should only be used within an associated <Async> component!");return e(t)})}class o extends r.a.Component{constructor(t){super(t),this.mounted=!1,this.counter=0,this.args=[],this.promise=j,this.abortController=new i,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const a=t.promise,n=t.promiseFn||e.promiseFn,r=t.initialValue||e.initialValue;this.state={...x({initialValue:r,promise:a,promiseFn:n}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=t.debugLabel||e.debugLabel;const{devToolsDispatcher:l}=s.__REACT_ASYNC__,o=t.reducer||e.reducer,c=t.dispatcher||e.dispatcher||l,u=o?(e,t)=>o(e,t,k):k,d=S((e,t)=>{this.setState(t=>u(t,e),t)});this.dispatch=c?e=>c(e,d,t):d}componentDidMount(){this.mounted=!0,!this.props.promise&&this.state.initialValue||this.load()}componentDidUpdate(t){const{watch:a,watchFn:n=e.watchFn,promise:r,promiseFn:s}=this.props;return a!==t.watch?(this.counter&&this.cancel(),this.load()):n&&n({...e,...this.props},{...e,...t})?(this.counter&&this.cancel(),this.load()):r!==t.promise&&(this.counter&&this.cancel(),r)?this.load():s!==t.promiseFn&&(this.counter&&this.cancel(),s)?this.load():void 0}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(e){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...e}}start(e){return"AbortController"in s&&(this.abortController.abort(),this.abortController=new s.AbortController),this.counter++,this.promise=new Promise((t,a)=>{if(!this.mounted)return;this.dispatch({type:C.start,payload:()=>e().then(t,a),meta:this.getMeta()})})}load(){const t=this.props.promise,a=this.props.promiseFn||e.promiseFn;if(t)this.start(()=>t).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(a){const t={...e,...this.props};this.start(()=>a(t,this.abortController)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...t){const a=this.props.deferFn||e.deferFn;if(a){this.args=t;const n={...e,...this.props};return this.start(()=>a(t,n,this.abortController)).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const t=this.props.onCancel||e.onCancel;t&&t(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:C.cancel,meta:this.getMeta()})}onResolve(t){return a=>{if(this.counter===t){const t=this.props.onResolve||e.onResolve;this.setData(a,()=>t&&t(a))}return a}}onReject(t){return a=>{if(this.counter===t){const t=this.props.onReject||e.onReject;this.setError(a,()=>t&&t(a))}return a}}setData(e,t){return this.mounted&&this.dispatch({type:C.fulfill,payload:e,meta:this.getMeta()},t),e}setError(e,t){return this.mounted&&this.dispatch({type:C.reject,payload:e,error:!0,meta:this.getMeta()},t),e}render(){const{children:e,suspense:t}=this.props;if(t&&this.state.isPending&&this.promise!==j)throw this.promise;if("function"==typeof e){const t=e;return r.a.createElement(n,{value:this.state},t(this.state))}return null!=e?r.a.createElement(n,{value:this.state},e):null}}d&&(o.propTypes=d.Async);const c=e=>r.a.createElement(l,null,t=>r.a.createElement(m,Object.assign({},e,{state:t}))),u=e=>r.a.createElement(l,null,t=>r.a.createElement(f,Object.assign({},e,{state:t}))),p=e=>r.a.createElement(l,null,t=>r.a.createElement(h,Object.assign({},e,{state:t}))),y=e=>r.a.createElement(l,null,t=>r.a.createElement(b,Object.assign({},e,{state:t}))),E=e=>r.a.createElement(l,null,t=>r.a.createElement(g,Object.assign({},e,{state:t})));c.displayName=`${t}.Initial`,u.displayName=`${t}.Pending`,p.displayName=`${t}.Fulfilled`,y.displayName=`${t}.Rejected`,E.displayName=`${t}.Settled`,Object.assign(o,{displayName:t,Initial:c,Pending:u,Loading:u,Fulfilled:p,Resolved:p,Rejected:y,Settled:E})}();function N(e,t){const a="function"==typeof e?{...t,promiseFn:e}:e,r=Object(n.useRef)(0),o=Object(n.useRef)(!0),c=Object(n.useRef)(void 0),u=Object(n.useRef)(a),d=Object(n.useRef)(j),p=Object(n.useRef)(new i),{devToolsDispatcher:m}=s.__REACT_ASYNC__,{reducer:f,dispatcher:h=m}=a,[b,g]=Object(n.useReducer)(f?(e,t)=>f(e,t,k):k,a,x),y=Object(n.useCallback)(h?e=>h(e,S(g),u.current):S(g),[h]),{debugLabel:E}=a,v=Object(n.useCallback)(e=>({counter:r.current,promise:d.current,debugLabel:E,...e}),[E]),O=Object(n.useCallback)((e,t=l)=>(o.current&&(y({type:C.fulfill,payload:e,meta:v()}),t()),e),[y,v]),w=Object(n.useCallback)((e,t=l)=>(o.current&&(y({type:C.reject,payload:e,error:!0,meta:v()}),t()),e),[y,v]),{onResolve:N,onReject:R}=a,A=Object(n.useCallback)(e=>t=>e===r.current&&O(t,()=>N&&N(t)),[O,N]),P=Object(n.useCallback)(e=>t=>e===r.current&&w(t,()=>R&&R(t)),[w,R]),F=Object(n.useCallback)(e=>("AbortController"in s&&(p.current.abort(),p.current=new s.AbortController),r.current++,d.current=new Promise((t,a)=>{if(!o.current)return;y({type:C.start,payload:()=>e().then(t,a),meta:v()})})),[y,v]),{promise:T,promiseFn:$,initialValue:_}=a,D=Object(n.useCallback)(()=>{const e=_&&0===r.current;T?F(()=>T).then(A(r.current)).catch(P(r.current)):$&&!e&&F(()=>$(u.current,p.current)).then(A(r.current)).catch(P(r.current))},[F,T,$,_,A,P]),{deferFn:L}=a,M=Object(n.useCallback)((...e)=>{L&&(c.current=e,F(()=>L(e,u.current,p.current)).then(A(r.current)).catch(P(r.current)))},[F,L,A,P]),I=Object(n.useCallback)(()=>{c.current?M(...c.current):D()},[M,D]),{onCancel:q}=a,B=Object(n.useCallback)(()=>{q&&q(),r.current++,p.current.abort(),o.current&&y({type:C.cancel,meta:v()})},[q,y,v]),{watch:U,watchFn:V}=a;if(Object(n.useEffect)(()=>{V&&u.current&&V(a,u.current)&&(u.current=a,D())}),Object(n.useEffect)(()=>{u.current=a},[a]),Object(n.useEffect)(()=>{r.current&&B(),(T||$)&&D()},[T,$,U]),Object(n.useEffect)(()=>()=>{o.current=!1},[]),Object(n.useEffect)(()=>()=>B(),[]),Object(n.useDebugValue)(b,({status:e})=>`[${r.current}] ${e}`),a.suspense&&b.isPending&&d.current!==j)throw d.current;return Object(n.useMemo)(()=>({...b,run:M,reload:I,cancel:B,setData:O,setError:w}),[b,M,I,B,O,w])}class R extends Error{constructor(e){super(`${e.status} ${e.statusText}`),this.response=e,Object.setPrototypeOf&&Object.setPrototypeOf(this,R.prototype)}}const A=(e,t)=>a=>a.ok?"boolean"==typeof t?t?a.json():a:"application/json"===e?a.json():a:Promise.reject(new R(a));const P=()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};var F=n.useEffect?N:P;n.useEffect}).call(this,a(20))},40:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"j",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"k",(function(){return h})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return g})),a.d(t,"h",(function(){return y})),a.d(t,"f",(function(){return E}));var n=a(5),r=a.n(n);const s={server:[{server:"NOT_LOADED",bulks:"NOT_LOADED"}]},l={Accept:"application/json","Content-Type":"application/json"},i=async({server:e})=>{if(!e)return s;return(await r.a.get(`${globals.rest.sessions}server/radius/${e}/`,{headers:{Accept:"application/json"}})).data},o=(...e)=>e.every(e=>null!=e),c=[({column:e,order:t})=>o(e,t)?`sort/${e}-${t}/`:"",({limit:e})=>o(e)?`per-page/${e}/`:"",({offset:e})=>o(e)?`offset/${e}/`:"",({filter:e})=>o(e)?`filter/${e}/`:""],u=async([e],{server:t,bulk:a})=>{if(!a||!t)return[];const n=e&&Object.keys(e).length?(e=>c.map(t=>t(e)).join(""))(e):"";return(await r.a.get(`${globals.rest.sessions}server/radius/${t}/bulk/${a}/${n.length?`${n}`:""}`,{headers:{Accept:"application/json"}})).data},d=async(e,t,a)=>{if(!t||!e)return[];return(await r.a.delete(`${globals.rest.sessions}server/radius/${e}/bulk/${t}/`,{data:{"delete-session":Array.isArray(a)?`array:${a.join(",")}`:a},headers:l})).data},p=async([{server:e,bulk:t,id:a}])=>{return(await r.a.get(`${globals.rest.sessions}server/radius/${e}/bulk/${t}/session-flow/${a}/`,{headers:{Accept:"application/json"}})).data},m=async([{server:e,bulk:t,id:a}])=>{return(await r.a.get(`${globals.rest.sessions}server/radius/${e}/bulk/${t}/session-dacl/${a}/`,{headers:{Accept:"application/json"}})).data},f=async([{certificate:e,type:t}])=>{if(!e)return null;return(await r.a.post(`${globals.rest.cert.details}${e}/`,{type:t},{headers:l})).data},h=async(e,t,a)=>{return(await r.a.patch(`${globals.rest.sessions}server/${e}/bulk/${t}/update/`,a,{headers:l})).data},b=async(e,t,a)=>{return(await r.a.patch(`${globals.rest.sessions}server/${e}/bulk/${t}/drop/`,a,{headers:l})).data},g=async(e,t,a)=>{return(await r.a.post(`${globals.rest.sessions}server/${e}/bulk/${t}/check/`,a,{headers:l})).data},y=async()=>{return(await r.a.get(`${globals.rest.sessions}servers/`,{headers:{Accept:"application/json"}})).data},E=async([e],{server:t,bulk:a})=>{return(await r.a.post(`${globals.rest.sessions}server/${t}/bulk/${a}/get-guest-creds/`,{sessions:e},{headers:l})).data}},42:function(e,t,a){"use strict";var n=a(0),r=a.n(n);function s(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=a(37),c=a.n(o);function u(e,t){if(!e){var a=new Error("loadable: "+t);throw a.framesToPop=1,a.name="Invariant Violation",a}}var d=r.a.createContext();var p=function(e){return function(t){return r.a.createElement(d.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({__chunkExtractor:a},t))}))}},m=function(e){return e};function f(e){var t=e.resolve,a=void 0===t?m:t,n=e.render,o=e.onLoad;function c(e,t){void 0===t&&(t={});var c=function(e){return"function"==typeof e?{requireAsync:e}:e}(e),d={};function m(e){return t.cacheKey?t.cacheKey(e):c.resolve?c.resolve(e):null}var f=function(e){var r,p;function f(a){var n;return(n=e.call(this,a)||this).state={result:null,error:null,loading:!0,cacheKey:m(a)},n.promise=null,u(!a.__chunkExtractor||c.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),a.__chunkExtractor?!1===t.ssr?i(n):(c.requireAsync(a).catch((function(){})),n.loadSync(),a.__chunkExtractor.addChunk(c.chunkName(a)),i(n)):(!1!==t.ssr&&c.isReady&&c.isReady(a)&&n.loadSync(),n)}p=e,(r=f).prototype=Object.create(p.prototype),r.prototype.constructor=r,r.__proto__=p,f.getDerivedStateFromProps=function(e,t){var a=m(e);return l({},t,{cacheKey:a,loading:t.loading||t.cacheKey!==a})};var h=f.prototype;return h.componentDidMount=function(){this.mounted=!0,this.state.loading?this.loadAsync():this.state.error||this.triggerOnLoad()},h.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&(this.promise=null,this.loadAsync())},h.componentWillUnmount=function(){this.mounted=!1},h.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},h.triggerOnLoad=function(){var e=this;o&&setTimeout((function(){o(e.state.result,e.props)}))},h.loadSync=function(){if(this.state.loading)try{var e=c.requireSync(this.props),t=a(e,{Loadable:b});this.state.result=t,this.state.loading=!1}catch(e){this.state.error=e}},h.getCacheKey=function(){return m(this.props)||JSON.stringify(this.props)},h.getCache=function(){return d[this.getCacheKey()]},h.setCache=function(e){d[this.getCacheKey()]=e},h.loadAsync=function(){var e=this;if(!this.promise){var n=this.props,r=(n.__chunkExtractor,n.forwardedRef,s(n,["__chunkExtractor","forwardedRef"]));this.promise=c.requireAsync(r).then((function(n){var r=a(n,{Loadable:b});t.suspense&&e.setCache(r),e.safeSetState({result:a(n,{Loadable:b}),loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){e.safeSetState({error:t,loading:!1})}))}return this.promise},h.render=function(){var e=this.props,a=e.forwardedRef,r=e.fallback,i=(e.__chunkExtractor,s(e,["forwardedRef","fallback","__chunkExtractor"])),o=this.state,c=o.error,u=o.loading,d=o.result;if(t.suspense){var p=this.getCache();if(!p)throw this.loadAsync();return n({loading:!1,fallback:null,result:p,options:t,props:l({},i,{ref:a})})}if(c)throw c;var m=r||t.fallback||null;return u?m:n({loading:u,fallback:m,result:d,options:t,props:l({},i,{ref:a})})},f}(r.a.Component),h=p(f),b=r.a.forwardRef((function(e,t){return r.a.createElement(h,Object.assign({forwardedRef:t},e))}));return b.preload=function(e){c.requireAsync(e)},b.load=function(e){return c.requireAsync(e)},b}return{loadable:c,lazy:function(e,t){return c(e,l({},t,{suspense:!0}))}}}var h=f({resolve:function(e,t){var a=t.Loadable,n=e.__esModule?e.default:e.default||e;return c()(a,n,{preload:!0}),n},render:function(e){var t=e.result,a=e.props;return r.a.createElement(t,a)}}),b=h.loadable,g=h.lazy,y=f({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,a=e.loading,n=e.props;return!a&&n.children?n.children(t):null}}),E=y.loadable,v=y.lazy;var O=b;O.lib=E,g.lib=v;t.a=O},5:function(e,t){e.exports=axios},56:function(e,t){e.exports=ReactIs},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return l}));const n="animation::done",r=e=>e.dispatchEvent(new Event(n)),s=(e,t=1)=>({value:e?[0,t]:0,easing:"linear",duration:300}),l="spring(1, 150, 10)"},62:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(1);t.a=class extends r.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error(e),console.warn(t)}render(){return this.state.hasError?r.a.createElement(s.Alert.Error,{title:"Error"},"Something went wrong."):this.props.children}}},7:function(e,t){e.exports=ReactDOM},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),s=a(5),l=a.n(s);const i=r.a.createContext(),o=({children:e})=>{const[t,a]=r.a.useState({api:!1}),n=async()=>{const{preferences:e}=await(async()=>{return(await l.a.get(globals.rest.preferences.api,{headers:{Accept:"application/json"}})).data})();a(e&&e.token?{api:!0,token:e.token}:{api:!1})};return r.a.useEffect(()=>{n()},[]),r.a.createElement(i.Provider,{value:t},e)}},8:function(e,t){e.exports=ReactRouterDOM},9:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return h}));var n=a(13),r=a(12),s=(a(3),a(0)),l=a.n(s),i=a(7),o=a.n(i),c=!1,u=a(14),d="unmounted",p="exited",m="entering",f="entered",h="exiting",b=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var r,s=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(r=p,n.appearStatus=m):r=f:r=t.unmountOnExit||t.mountOnEnter?d:p,n.state={status:r},n.nextCallback=null,n}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==m&&a!==f&&(t=m):a!==m&&a!==f||(t=h)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var a=o.a.findDOMNode(this);t===m?this.performEnter(a,e):this.performExit(a)}else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},a.performEnter=function(e,t){var a=this,n=this.props.enter,r=this.context?this.context.isMounting:t,s=this.getTimeouts(),l=r?s.appear:s.enter;!t&&!n||c?this.safeSetState({status:f},(function(){a.props.onEntered(e)})):(this.props.onEnter(e,r),this.safeSetState({status:m},(function(){a.props.onEntering(e,r),a.onTransitionEnd(e,l,(function(){a.safeSetState({status:f},(function(){a.props.onEntered(e,r)}))}))})))},a.performExit=function(e){var t=this,a=this.props.exit,n=this.getTimeouts();a&&!c?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:p},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:p},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t,a){this.setNextCallback(a);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,a=t.children,r=Object(n.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof a)return l.a.createElement(u.a.Provider,{value:null},a(e,r));var s=l.a.Children.only(a);return l.a.createElement(u.a.Provider,{value:null},l.a.cloneElement(s,r))},t}(l.a.Component);function g(){}b.contextType=u.a,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;t.d=b}});